Ext.define("Ext.ux.IFrame",{extend:"Ext.Component",alias:"widget.uxiframe",loadMask:"Loading...",src:"about:blank",renderTpl:['<iframe src="{src}" id="{id}-iframeEl" data-ref="iframeEl" name="{frameName}" width="100%" height="100%" frameborder="0"></iframe>'],childEls:["iframeEl"],initComponent:function(){this.callParent();
this.frameName=this.frameName||this.id+"-frame";},initEvents:function(){var a=this;a.callParent();a.iframeEl.on("load",a.onLoad,a);},initRenderData:function(){return Ext.apply(this.callParent(),{src:this.src,frameName:this.frameName});},getBody:function(){var a=this.getDoc();return a.body||a.documentElement;
},getDoc:function(){try{return this.getWin().document;}catch(a){return null;}},getWin:function(){var b=this,a=b.frameName,c=Ext.isIE?b.iframeEl.dom.contentWindow:window.frames[a];return c;},getFrame:function(){var a=this;return a.iframeEl.dom;},onLoad:function(){var a=this,b=a.getDoc();if(b){this.el.unmask();
this.fireEvent("load",this);}else{if(a.src){this.el.unmask();this.fireEvent("error",this);}}},load:function(d){var a=this,c=a.loadMask,b=a.getFrame();if(a.fireEvent("beforeload",a,d)!==false){if(c&&a.el){a.el.mask(c);}b.src=a.src=(d||a.src);}}});