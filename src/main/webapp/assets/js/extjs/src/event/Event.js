Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObjectImpl",requires:["Ext.util.Point"],stopped:false,claimed:false,defaultPrevented:false,isEvent:true,geckoRelatedTargetEvents:{blur:1,dragenter:1,dragleave:1,focus:1},statics:{resolveTextNode:function(a){return(a&&a.nodeType===3)?a.parentNode:a;
},gestureEvents:{},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,focusin:1,focusenter:1},blurEvents:{blur:1,focusout:1,focusleave:1},pointerTypeMap:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"},keyEventRe:/^key/,keyFlags:{CTRL:"ctrlKey",CONTROL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",CMD:"metaKey",COMMAND:"metaKey",CMDORCTRL:Ext.isMac?"metaKey":"ctrlKey",COMMANDORCONTROL:Ext.isMac?"metaKey":"ctrlKey",META:"metaKey"},modifierGlyphs:{ctrlKey:"\u2303",altKey:"\u2325",metaKey:Ext.isMac?"\u2318":"\u229e",shiftKey:"\u21E7"},specialKeyGlyphs:{BACKSPACE:"\u232B",TAB:"\u21E5",ENTER:"\u23CE",RETURN:"\u23CE",SPACE:"\u2423",PAGE_UP:"\u21DE",PAGE_DOWN:"\u21DF",END:"\u21F2",HOME:"\u2302",LEFT:"\u2190",UP:"\u2191",RIGHT:"\u2192",DOWN:"\u2193",PRINT_SCREEN:"\u2399",INSERT:"\u2380",DELETE:"\u2326",CONTEXT_MENU:"\u2630"},_hyphenRe:/^[a-z]+\-/i,getKeyId:function(h){if(typeof h==="number"){h=this.keyCodes[h];
}else{h=h.toUpperCase();}var g=this,b=g._hyphenRe.test(h)?"-":"+",d=(h===b)?[b]:h.split(b),c=d.length-1,e=d[c],j=[],a,f;if(!Ext.event.Event[e]){Ext.raise('Invalid key name: "'+e+'"');}for(f=0;f<c;f++){a=g.keyFlags[d[f]];if(!a){Ext.raise('Invalid key modifier: "'+d[f]+'"');}j[a]=true;}if(j.ctrlKey){j.push(g.modifierGlyphs.ctrlKey);
}if(j.altKey){j.push(g.modifierGlyphs.altKey);}if(j.shiftKey){j.push(g.modifierGlyphs.shiftKey);}if(j.metaKey){j.push(g.modifierGlyphs.metaKey);}j.push(this.specialKeyGlyphs[e]||e);return j.join("");}},constructor:function(b){var h=this,k=h.self,g=h.self.resolveTextNode,j=b.changedTouches,c=j?j[0]:b,i=b.type,a,f;
h.timeStamp=h.time=Ext.now();h.pageX=c.pageX;h.pageY=c.pageY;h.clientX=c.clientX;h.clientY=c.clientY;h.target=h.delegatedTarget=g(b.target);h.currentTarget=g(b.currentTarget);f=b.relatedTarget;if(f){if(Ext.isGecko&&h.geckoRelatedTargetEvents[i]){try{h.relatedTarget=g(f);}catch(d){h.relatedTarget=null;
}}else{h.relatedTarget=g(f);}}h.browserEvent=h.event=b;h.type=i;h.button=b.button||0;h.shiftKey=b.shiftKey;h.ctrlKey=b.ctrlKey||b.metaKey||false;h.altKey=b.altKey;h.charCode=b.charCode;h.keyCode=b.keyCode;h.buttons=b.buttons;if(h.button===0&&h.buttons===0){h.buttons=1;}if(k.focusEvents[i]||k.blurEvents[i]){if(k.forwardTab!==undefined){h.forwardTab=k.forwardTab;
}if(k.focusEvents[i]){h.fromElement=b.relatedTarget;h.toElement=b.target;}else{h.fromElement=b.target;h.toElement=b.relatedTarget;}}else{if(i!=="keydown"){delete k.forwardTab;}}if(k.mouseEvents[i]){a="mouse";}else{if(k.clickEvents[i]){a=k.pointerTypeMap[b.pointerType]||(((Ext.now()-Ext.event.publisher.Dom.lastTouchEndTime)<1000)?"touch":"mouse");
}else{if(k.pointerEvents[i]){a=k.pointerTypeMap[b.pointerType];}else{if(k.touchEvents[i]){a="touch";}}}}if(a){h.pointerType=a;}h.isMultitouch=b.isPrimary===false||(b.touches&&b.touches.length>1);},chain:function(a){var b=Ext.Object.chain(this);b.parentEvent=this;return Ext.apply(b,a);},correctWheelDelta:function(c){var b=this.WHEEL_SCALE,a=Math.round(c/b);
if(!a&&c){a=(c<0)?-1:1;}return a;},getChar:function(){var a=this.which();return String.fromCharCode(a);},getCharCode:function(){return this.charCode||this.keyCode;},getKey:function(){return this.keyCode||this.charCode;},getKeyName:function(){return this.type==="keypress"?String.fromCharCode(this.getCharCode()):this.keyCodes[this.keyCode];
},key:function(){return this.browserEvent.key;},which:function(){var b=this,c=b.browserEvent,a=c.which;if(a==null){if(b.keyEventRe.test(c.type)){a=c.charCode||c.keyCode;}else{if((a=c.button)!==undefined){a=(a&1)?1:((a&4)?2:((a&2)?3:0));}}}return a;},getPoint:function(){var b=this,a=b.point,c;if(!a){c=b.getXY();
a=b.point=new Ext.util.Point(c[0],c[1]);}return a;},getRelatedTarget:function(b,e,a){var c=this.relatedTarget,d=null;if(c&&c.nodeType){if(b){d=Ext.fly(c).findParent(b,e,a);}else{d=a?Ext.get(c):c;}}return d;},getTarget:function(b,c,a){return b?Ext.fly(this.target).findParent(b,c,a):(a?Ext.get(this.target):this.target);
},getTime:function(){return this.time;},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y;},getWheelDeltas:function(){var d=this,c=d.browserEvent,b=0,a=0;if(Ext.isDefined(c.wheelDeltaX)){b=c.wheelDeltaX;a=c.wheelDeltaY;}else{if(c.wheelDelta){a=c.wheelDelta;}else{if("deltaX" in c){b=c.deltaX;
a=-c.deltaY;}else{if(c.detail){a=-c.detail;if(a>100){a=3;}else{if(a<-100){a=-3;}}if(Ext.isDefined(c.axis)&&c.axis===c.HORIZONTAL_AXIS){b=a;a=0;}}}}}return{x:d.correctWheelDelta(b),y:d.correctWheelDelta(a)};},getX:function(){return this.getXY()[0];},getXY:function(){var c=this,e=c.xy;if(!e){e=c.xy=[c.pageX,c.pageY];
var b=e[0],g,d,f,a;if(!b&&b!==0){g=c.browserEvent;d=document;f=d.documentElement;a=d.body;e[0]=g.clientX+(f&&f.scrollLeft||a&&a.scrollLeft||0)-(f&&f.clientLeft||a&&a.clientLeft||0);e[1]=g.clientY+(f&&f.scrollTop||a&&a.scrollTop||0)-(f&&f.clientTop||a&&a.clientTop||0);}}return e;},getY:function(){return this.getXY()[1];
},hasModifier:function(){var a=this;return !!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey);},isNavKeyPress:function(d){var c=this,a=c.keyCode,b=c.type==="keypress";return((!b||Ext.isGecko)&&a>=33&&a<=40)||(!d&&(a===c.RETURN||a===c.TAB||a===c.ESC));},isSpecialKey:function(){var d=this,b=d.keyCode,a=Ext.isGecko,c=d.type==="keypress";
return(a&&c&&d.charCode===0)||(this.isNavKeyPress())||(b===d.BACKSPACE)||(b===d.ENTER)||(b>=16&&b<=20)||((!c||a)&&b>=44&&b<=46);},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn;},preventDefault:function(){var b=this,a=b.parentEvent;b.defaultPrevented=true;if(a){a.defaultPrevented=true;
}b.browserEvent.preventDefault();return b;},setCurrentTarget:function(a){this.currentTarget=this.delegatedTarget=a;},stopEvent:function(){return this.preventDefault().stopPropagation();},mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},mouseupEvents:{mouseup:1,pointerup:1,touchend:1},stopPropagation:function(){var b=this,c=b.browserEvent,a=b.parentEvent;
if(b.mousedownEvents[b.type]){Ext.GlobalEvents.fireMouseDown(b);}if(b.mouseupEvents[b.type]){Ext.GlobalEvents.fireMouseUp(b);}b.stopped=true;if(a&&!b.isGesture){a.stopped=true;}if(!c.stopPropagation){c.cancelBubble=true;return b;}c.stopPropagation();return b;},claimGesture:function(){var b=this,a=b.parentEvent;
b.claimed=true;if(a&&!b.isGesture){a.claimGesture();}else{b.preventDefault();}return b;},within:function(c,d,a){var b;if(c){b=d?this.getRelatedTarget():this.getTarget();}if(!b||(a===false&&b===Ext.getDom(c))){return false;}return Ext.fly(c).contains(b);},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},function(f){var k={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:120},d={},c=f.gestureEvents,e=f.prototype,b,g,j,h,l,a;
if(Ext.isGecko){k.WHEEL_SCALE=3;}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){a=120;}else{a=12;}k.WHEEL_SCALE=3*a;}}Ext.apply(c,f.mouseEvents);Ext.apply(c,f.pointerEvents);Ext.apply(c,f.touchEvents);Ext.apply(f,k);Ext.apply(e,k);delete k.WHEEL_SCALE;delete k.RETURN;for(g in k){j=k[g];d[j]=g;
}f.keyCodes=e.keyCodes=d;e.getTrueXY=e.getXY;if(typeof KeyboardEvent!=="undefined"&&!("key" in KeyboardEvent.prototype)){e._keys=h={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};
for(b=1;b<25;++b){h[b+111]="F"+b;}for(b=0;b<26;++b){h[b]=[String.fromCharCode(b+97),String.fromCharCode(b+65)];}e.key=function(){var i=h[this.which||this.keyCode];if(i&&typeof i!=="string"){i=i[+this.shiftKey];}return i;};}});