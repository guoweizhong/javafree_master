Ext.define("Ext.event.publisher.ElementPaint",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.PaintMonitor","Ext.TaskQueue"],type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={};this.subscribers={};this.callParent(arguments);},subscribe:function(a){var b=this,d=a.id,c=b.subscribers;
if(c[d]){++c[d];}else{c[d]=1;b.monitors[d]=new Ext.util.PaintMonitor({element:a,callback:b.onElementPainted,scope:b,args:[a]});}},unsubscribe:function(b){var d=b.id,c=this.subscribers,a=this.monitors;if(c[d]&&!--c[d]){delete c[d];a[d].destroy();delete a[d];}if(b.activeRead){Ext.TaskQueue.cancelRead(b.activeRead);
}},fireElementPainted:function(a){delete a.activeRead;this.fire(a,"painted",[a]);},onElementPainted:function(a){if(!a.activeRead){a.activeRead=Ext.TaskQueue.requestRead("fireElementPainted",this,[a],!!a.$skipResourceCheck);}}},function(a){a.instance=new a();});