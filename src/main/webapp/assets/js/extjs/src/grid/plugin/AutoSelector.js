Ext.define("Ext.ux.grid.plugin.AutoSelector",{extend:"Ext.plugin.Abstract",alias:"plugin.gridautoselector",config:{store:null},init:function(a){if(!a.isXType("tablepanel")){Ext.raise("The gridautoselector plugin is designed only for grids and trees");}var b=this;b.grid=a;b.watchGrid();a.on({reconfigure:b.watchGrid,scope:b});
},destroy:function(){this.setStore(null);this.grid=null;this.callParent();},ensureSelection:function(){var b=this.grid,a=b.getStore(),c;if(a.getCount()){c=b.getSelection();if(!c||!c.length){b.getSelectionModel().select(0);}}},watchGrid:function(){this.setStore(this.grid.getStore());this.ensureSelection();
},updateStore:function(a){var b=this;Ext.destroy(b.storeListeners);b.storeListeners=a&&a.on({add:b.ensureSelection,remove:b.ensureSelection,destroyable:true,scope:b});}});