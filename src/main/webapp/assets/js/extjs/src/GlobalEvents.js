Ext.define("Ext.GlobalEvents",{extend:"Ext.mixin.Observable",alternateClassName:"Ext.globalEvents",requires:["Ext.dom.Element"],observableType:"global",singleton:true,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},windowListeners:{resize:{fn:"fireResize"}},constructor:function(){var a=this;
a.callParent();Ext.onInternalReady(function(){a.attachListeners();});},setPressedComponent:function(b,c){var a=this.pressedComponent;if(a&&a.onRelease){a.onRelease(c);}this.pressedComponent=b;},attachListeners:function(){var a=this,b=Ext.getWin(),c=a.windowListeners;a.onlineState=Ext.isOnline();a.curHeight=Ext.Element.getViewportHeight();
a.curWidth=Ext.Element.getViewportWidth();b.on({scope:a,online:"handleOnlineChange",offline:"handleOnlineChange"});a.fireResize.$skipTimerCheck=true;if(c){c.scope=a;if(Ext.isModern){c.resize.onFrame=true;}else{c.resize.buffer=a.resizeBuffer;}b.on(c);}Ext.getDoc().on({touchstart:"fireMouseDown",mousedown:"fireMouseDown",mouseup:"fireMouseUp",touchend:"fireMouseUp",drop:"fireMouseUp",dragend:"fireMouseUp",scope:a});
},fireMouseDown:function(a){this.fireEvent("mousedown",a);},fireMouseUp:function(a){this.fireEvent("mouseup",a);this.setPressedComponent(null);},fireResize:function(){var d=this,b=Ext.Element,a=b.getViewportWidth(),c=b.getViewportHeight();if(d.curHeight!==c||d.curWidth!==a){d.curHeight=c;d.curWidth=a;
if(d.hasListeners.resize){d.fireEvent("resize",a,c);}}},handleOnlineChange:function(){var a=Ext.isOnline();if(a!==this.onlineState){this.onlineState=a;this.fireEvent("onlinechange",a);}}},function(a){Ext.on=function(){return a.addListener.apply(a,arguments);};Ext.un=function(){return a.removeListener.apply(a,arguments);
};Ext.fireEvent=function(){return a.fireEvent.apply(a,arguments);};});