Ext.define("Ext.ux.ProgressBarPager",{alias:"plugin.ux-progressbarpager",requires:["Ext.ProgressBar"],width:225,defaultText:"Loading...",defaultAnimCfg:{duration:1000,easing:"bounceOut"},constructor:function(a){if(a){Ext.apply(this,a);}},init:function(b){var a;if(b.displayInfo){this.parent=b;a=b.child("#displayItem");
if(a){b.remove(a,true);}this.progressBar=Ext.create("Ext.ProgressBar",{text:this.defaultText,width:this.width,animate:this.defaultAnimCfg,style:{cursor:"pointer"},listeners:{el:{scope:this,click:this.handleProgressBarClick}}});b.displayItem=this.progressBar;b.add(b.displayItem);Ext.apply(b,this.parentOverrides);
}},handleProgressBarClick:function(f){var i=this.parent,g=i.displayItem,c=this.progressBar.getBox(),k=f.getXY(),d=k[0]-c.x,j=i.store,h=i.pageSize||j.pageSize,b=Math.ceil(j.getTotalCount()/h),a=Math.max(Math.ceil(d/(g.width/b)),1);j.loadPage(a);},parentOverrides:{updateInfo:function(){if(this.displayItem){var d=this.store.getCount(),b=this.getPageData(),c=d===0?this.emptyMsg:Ext.String.format(this.displayMsg,b.fromRecord,b.toRecord,this.store.getTotalCount()),a=b.pageCount>0?(b.currentPage/b.pageCount):0;
this.displayItem.updateProgress(a,c,this.animate||this.defaultAnimConfig);}}}});