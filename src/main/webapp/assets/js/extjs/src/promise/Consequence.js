Ext.define("Ext.promise.Consequence",function(a){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(e,b,d){var c=this;c.onFulfilled=e;c.onRejected=b;c.onProgress=d;c.deferred=new Ext.promise.Deferred();c.promise=c.deferred.promise;},trigger:function(e,d){var c=this,b=c.deferred;
switch(e){case"fulfill":c.propagate(d,c.onFulfilled,b,b.resolve);break;case"reject":c.propagate(d,c.onRejected,b,b.reject);break;}},update:function(b){if(Ext.isFunction(this.onProgress)){b=this.onProgress(b);}this.deferred.update(b);},propagate:function(d,e,b,c){if(Ext.isFunction(e)){this.schedule(function(){try{b.resolve(e(d));
}catch(f){b.reject(f);}});}else{c.call(this.deferred,d);}},schedule:function(c){var b=a.queueSize++;a.queue[b]=c;if(!b){Ext.asap(a.dispatch);}},statics:{queue:new Array(10000),queueSize:0,dispatch:function(){var b=a.queue,d,c;for(c=0;c<a.queueSize;++c){d=b[c];b[c]=null;d();}a.queueSize=0;}}};},function(a){a.dispatch.$skipTimerCheck=true;
});