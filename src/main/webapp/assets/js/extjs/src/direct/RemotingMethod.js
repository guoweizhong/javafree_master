Ext.define("Ext.direct.RemotingMethod",{constructor:function(c){var h=this,e=c.params,g=c.len,j=c.metadata,i={},a,f,b,d;h.name=c.name;h.disableBatching=c.batched!=null?!c.batched:false;if(c.formHandler){h.formHandler=c.formHandler;}else{if(Ext.isNumeric(g)){h.len=g;h.ordered=true;}else{h.named=true;h.strict=c.strict!==undefined?c.strict:true;
h.params={};f=e&&e.length;for(b=0;b<f;b++){d=e[b];a=Ext.isObject(d)?d.name:d;h.params[a]=true;}}}if(j){e=j.params;g=j.len;if(Ext.isNumeric(g)){if(g===0){Ext.raise("metadata.len cannot be 0 "+"for Ext Direct method "+h.name);}i.ordered=true;i.len=g;}else{if(Ext.isArray(e)){i.named=true;i.params={};for(b=0,f=e.length;
b<f;b++){d=e[b];i.params[d]=true;}i.strict=j.strict!==undefined?j.strict:true;}else{Ext.raise("metadata is neither named nor ordered "+"for Ext Direct method "+h.name);}}h.metadata=i;}},getArgs:function(b){var g=this,c=b.params,h=b.paramOrder,k=b.paramsAsArray,j=b.metadata,l=b.options,f=[],a,d,e;if(g.ordered){if(g.len>0){if(h){a=b.paramsAsArray&&g.len===1&&(h.length>1||Ext.isArray(c));
if(a){if(Ext.isArray(c)){for(d=0,e=c.length;d<e;d++){f.push(g.convertParams(c[d],h,h.length,true));}}else{f=g.convertParams(c,h,h.length,true);}if(!c.allowSingle||f.length>1){f=[f];}}else{f=g.convertParams(c,h,g.len,false);}}else{f.push(c);}}}else{f.push(c);}f.push(b.callback,b.scope||window);if(l||j){l=Ext.apply({},l);
if(j){l.metadata=j;}f.push(l);}return f;},convertParams:function(g,b,e,h){var c=[],f,d,a;for(d=0,a=e;d<a;d++){f=b[d];c.push(g[f]);}if(h){return c.length===0?undefined:c.length===1?c[0]:c;}else{return c;}},getCallData:function(f){var g=this,d=null,e=g.len,c=g.params,i=g.strict,b,j,k,a,l,h;if(g.ordered){j=f[e];
k=f[e+1];l=f[e+2];if(e!==0){d=f.slice(0,e);}}else{if(g.formHandler){b=f[0];j=f[1];k=f[2];l=f[3];}else{d=Ext.apply({},f[0]);j=f[1];k=f[2];l=f[3];if(i){for(a in d){if(d.hasOwnProperty(a)&&!c[a]){delete d[a];}}}}}if(g.metadata&&l&&l.metadata){if(g.metadata.ordered){if(!Ext.isArray(l.metadata)){Ext.raise("options.metadata is not an Array "+"for Ext Direct method "+g.name);
}else{if(l.metadata.length<g.metadata.len){Ext.raise("Not enough parameters in options.metadata "+"for Ext Direct method "+g.name);}}h=l.metadata.slice(0,g.metadata.len);}else{if(!Ext.isObject(l.metadata)){Ext.raise("options.metadata is not an Object "+"for Ext Direct method "+g.name);}h=Ext.apply({},l.metadata);
if(g.metadata.strict){for(a in h){if(h.hasOwnProperty(a)&&!g.metadata.params[a]){delete h[a];}}}for(a in g.metadata.params){if(!h.hasOwnProperty(a)){Ext.raise("Named parameter "+a+" is missing "+"in options.metadata for Ext Direct method "+g.name);}}}delete l.metadata;}return{form:b,data:d,metadata:h,callback:j,scope:k,options:l};
}});