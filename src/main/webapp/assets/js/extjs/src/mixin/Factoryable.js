Ext.Factory=function(a){var b=this;b.aliasPrefix=a+".";b.cache={};b.name=a.replace(b.fixNameRe,b.fixNameFn);b.type=a;b.creator="create"+Ext.String.capitalize(b.name);};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",typeProperty:"type",create:function(c,f){var i=this,a=Ext.ClassManager,b=i.cache,d=i.typeProperty,e,h,g,j;
if(c){if(c[i.instanceProp]){return c;}if(typeof c==="string"){j=c;c={};c[i.defaultProperty]=j;}h=c.xclass;j=c[d];}if(f&&f.constructor===Object){c=Ext.apply({},c,f);f=f[d];}if(h){if(!(g=a.get(h))){return a.instantiate(h,c);}}else{if(!(j=j||f||i.defaultType)){g=i.defaultClass;}if(!j&&!g){Ext.raise("No type specified for "+i.type+".create");
}if(!g&&!(g=b[j])){e=i.aliasPrefix+j;h=a.getNameByAlias(e);if(!(g=h&&a.get(h))){return a.instantiateByAlias(e,c);}b[j]=g;}}return g.isInstance?g:new g(c);},fixNameRe:/\.[a-z]/ig,fixNameFn:function(a){return a.substring(1).toUpperCase();},clearCache:function(){this.cache={};this.instanceCache={};},hook:function(b){var c=this,a=c.create;
c.create=function(e,f){var d=b.call(c,a,e,f);if(d===undefined){d=a.call(c,e,f);}return d;};},update:function(j,b,c,f,e){var h=this,a,d,i,g;if(!b||b.isInstance){if(b&&!b[h.instanceProp]){Ext.raise("Config instance failed "+h.instanceProp+" requirement");}if(j&&j!==b){j.destroy();}return b;}if(typeof b==="string"){g=b;
b={};b[h.defaultProperty]=g;}if(j){if(b===true){return j;}if(!(g=b.xclass)){if(!(g=b.xtype)){g=b[h.typeProperty];if(g){g=h.aliasPrefix+g;a=j.self.prototype;if(a.hasOwnProperty("alias")){a=a.alias;if(a){i=a===g||a.indexOf(g)>-1;}}}}else{i=j.isXType(g,true);}}else{i=j.$className===g;}if(i){j.setConfig(b);
return j;}j.destroy();}if(b===true){b={};}if(c){if(e){d=Ext.Config.map[e];d=c[d.names.get]();if(d){b=Ext.merge(Ext.clone(d),b);}}f=f||h.creator;if(c[f]){b=c[f](b);if(!b){Ext.raise("Missing return value from "+f+" on class "+c.$className);}}}return h.create(b);}};Ext.Factory.define=function(g,e){var b=Ext.Factory,a=e&&e.cacheable,c,d,f;
if(g.constructor===Object){Ext.Object.each(g,b.define,b);}else{d=new Ext.Factory(g);if(e){if(e.constructor===Object){Ext.apply(d,e);if(typeof(c=d.xclass)==="string"){d.defaultClass=Ext.ClassManager.get(c);}}else{d.defaultType=e;}}b[d.name]=f=function(h,i){return d.create(h,i);};if(a){d.instanceCache={};
d.hook(function(k,j,l){var i=this.instanceCache,h;if(typeof j==="string"&&!(h=i[j])){h=k.call(this,j,l);if(h.cacheable!==false){i[j]=h;Ext.Object.freeze(h);}}return h;});}f.instance=d;f.update=function(i,j,k,h,l){return d.update(i,j,k,h,l);};}return f;};Ext.Factory.clearCaches=function(){var a=Ext.Factory,b,c;
for(b in a){c=a[b];c=c.instance;if(c){c.clearCache();}}};Ext.Factory.on=function(a,b){Ext.Factory[a].instance.hook(b);};Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(f){var e=f.prototype,g=e.factoryConfig,d=e.alias,c={},b,a;d=d&&d.length&&d[0];if(d&&(b=d.lastIndexOf("."))>0){c.type=d.substring(0,b);
c.defaultType=d.substring(b+1);}if(g){delete e.factoryConfig;Ext.apply(c,g);}a=Ext.Factory.define(c.type,c);if(f.create===Ext.Base.create){f.create=a;}}});