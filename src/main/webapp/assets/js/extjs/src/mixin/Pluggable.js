Ext.define("Ext.mixin.Pluggable",function(a){return{requires:["Ext.plugin.Abstract"],config:{plugins:null},addPlugin:function(d){var c=this,b=c.getPlugins();if(b){d=c.createPlugin(d);d.init(c);b.push(d);}else{c.setPlugins(d);d=c.getPlugins()[0];}return d;},destroyPlugin:function(b){return this.removePlugin(b,true);
},findPlugin:function(e){var b=this.getPlugins(),g=b&&b.length,d,f,c;for(d=0;d<g&&!c;d++){f=b[d];if(f.type===e||f.ptype===e){c=f;}}return c||null;},getPlugin:function(g){var b=this.getPlugins(),f=b&&b.length,d,e,c;for(d=0;d<f&&!c;d++){e=b[d];if(e.id===g||e.pluginId===g){c=e;}}return c||null;},removePlugin:function(e,d){var b=this.getPlugins(),c=b&&b.length||0,f;
while(c-->0){f=b[c];if(f===e||f.id===e){b.splice(c,1);if(d){if(f.destroy){f.destroy();}}else{if(f.detachCmp){f.detachCmp();if(f.setCmp){f.setCmp(null);}}}break;}f=null;}return f;},privates:{statics:{idSeed:0},activatePlugin:function(g){var h=this,e=h.initialConfig,c=e&&e.plugins,d=null,f,b,j;if(c){b=h.config.plugins;
b=(b&&typeof b==="object")?b:null;c=Ext.plugin.Abstract.decode(c,"type",b);for(f=c.length;f-->0;){j=c[f];if(j===g||j.type===g){h.initialConfig=e=Ext.apply({},e);e.plugins=c;c[f]=d=h.createPlugin(j);break;}}}return d;},applyPlugins:function(c,b){var h=this,d=b&&b.length||0,g,e,f;if(c){c=Ext.plugin.Abstract.decode(c,"type");
}for(e=0;e<d;++e){b[e].$dead=true;}g=c&&c.length||0;for(e=0;e<g;++e){c[e]=h.createPlugin(c[e]);}for(e=0;e<g;++e){f=c[e];if(f.$dead){delete f.$dead;}else{f.init(h);}}for(e=0;e<d;++e){if((f=b[e]).$dead){delete f.$dead;Ext.destroy(f);}}return c;},createPlugin:function(c){if(typeof c==="string"){c={type:c};
}var b=c;if(!c.isInstance){c.cmp=this;b=Ext.factory(c,null,null,"plugin");delete c.cmp;}if(!b.id){b.id=++a.idSeed;}if(b.setCmp){b.setCmp(this);}return b;}}};});