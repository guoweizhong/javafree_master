Ext.define("Ext.mixin.Dirty",{mixinId:"dirty",config:{dirty:null},dirty:false,_dirtyRecordCount:0,ignoreDirty:false,recordStateIsDirtyState:true,isDirty:function(){return this.getDirty();},applyDirty:function(a){return this.ignoreDirty?false:a;},updateDirty:function(b,a){var c=this;c.dirty=b;if(!c.ignoreDirty&&c.fireEvent){c.fireEvent("dirtychange",c,b);
}},clearRecordStates:function(){var b=this,a=b._crudCounters;if(a){a.C=a.U=a.D=0;}b._dirtyRecordCount=0;if(b.recordStateIsDirtyState){b.setDirty(false);}},trackRecordState:function(a,b){var e=this,d=e._crudCounters||(e._crudCounters={C:0,R:0,U:0,D:0}),h=e._dirtyRecordCount,g,c,f;if(!b&&(f=a.crudStateWas)!==null){--d[f];
}++d[a.crudState];e._dirtyRecordCount=c=d.C+d.U+d.D;g=!c!==!h;if(g&&e.recordStateIsDirtyState){e.setDirty(c>0);}return g;},untrackRecordState:function(a){var d=this,c=d._crudCounters,f=d._dirtyRecordCount,e,b;if(c){--c[a.crudState];d._dirtyRecordCount=b=c.C+c.U+c.D;e=!b!==!f;if(e&&d.recordStateIsDirtyState){d.setDirty(b>0);
}}return e;}});