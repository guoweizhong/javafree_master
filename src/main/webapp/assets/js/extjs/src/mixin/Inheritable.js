Ext.define("Ext.mixin.Inheritable",{extend:"Ext.Mixin",mixinConfig:{id:"inheritable"},getInherited:function(i){var e=this,g=(i&&e.inheritedStateInner)||e.inheritedState,b=e.getRefOwner(),a=e.isContainer,h,c,d,f;if(!g||g.invalid){h=e.getRefOwner();f=e.ownerLayout;if(b){d=f?f===b.layout:true;}e.inheritedState=g=Ext.Object.chain(h?h.getInherited(d):Ext.rootInheritedState);
if(a){e.inheritedStateInner=c=Ext.Object.chain(g);}e.initInheritedState(g,c);g=(a&&i)?e.inheritedStateInner:e.inheritedState;}return g;},getInheritedConfig:function(e,a){var d=this.inheritedState,b,c;if(!d||d.invalid){d=this.getInherited();}c=d[e];if(a&&d.hasOwnProperty(e)){b=c;delete d[e];c=d[e];d[e]=b;
}return c;},resolveListenerScope:function(f,a){var d=this,e=(typeof a==="boolean"),c=Ext._namedScopes[f],b;if(!c){b=d.getInheritedConfig("defaultListenerScope",e?a:true)||f||d;}else{if(c.isController){b=d.getInheritedConfig("controller",e?a:!c.isSelf);}else{if(c.isOwner){b=d.getRefOwner();}else{if(c.isSelf){b=d.getInheritedConfig("defaultListenerScope",e&&a)||d;
}else{if(c.isThis){b=d;}}}}}return b||null;},resolveSatelliteListenerScope:function(c,e){var d=this,b=Ext._namedScopes[e],a;if(!b){a=d.getInheritedConfig("defaultListenerScope")||e||d;}else{if(b.isController){a=d.getInheritedConfig("controller");}else{if(b.isSelf){a=d.getInheritedConfig("defaultListenerScope")||c;
}else{if(b.isThis){a=c;}}}}return a||null;},lookupNameHolder:function(a){return this.getInheritedConfig("nameHolder",a!==false)||null;},lookupReferenceHolder:function(a){return this.getInheritedConfig("referenceHolder",a!==false)||null;},getRefOwner:function(){var a=this;return a.ownerCmp||a.ownerCt||a.parent||a.$initParent||a.floatParent;
},isDescendantOf:function(a){var b;for(b=this.getRefOwner();b&&b!==a;b=b.getRefOwner()){}return b||null;},isAncestor:function(a){while(a){if(a.getRefOwner()===this){return true;}a=a.getRefOwner();}},invalidateInheritedState:function(){var a=this.inheritedState;if(a){a.invalid=true;delete this.inheritedState;
}},privates:{_fixName:function(){var b=this,a;if(b.name){a=b.lookupNameHolder();if(a&&!a.destroyed){a.attachNameRef(b);}}},_fixReference:function(){var a=this,b;if(a.reference){b=a.lookupReferenceHolder();if(b){b.attachReference(a);}}},onInheritedAdd:function(b,a){var c=this;if(c.inheritedState&&a){c.invalidateInheritedState();
}if(c.name||c.reference){Ext.ComponentManager.markReferencesDirty();}},onInheritedRemove:function(b){var a=this;if(a.name||a.reference){Ext.ComponentManager.markReferencesDirty();}if(a.inheritedState&&!b){a.invalidateInheritedState();}}}},function(){Ext.rootInheritedState={};});