Ext.define("Ext.perf.Accumulator",function(){var c=null,g=Ext.global["chrome"],d,b=function(){b=Ext.now;var j,k;if(Ext.isChrome&&g&&g.Interval){j=new g.Interval();j.start();b=function(){return j.microseconds()/1000;};}else{if(window.ActiveXObject){try{k=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=k;
b=function(){return k.milliseconds;};}catch(l){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=b;return b();};function h(k,j){k.sum+=j;k.min=Math.min(k.min,j);k.max=Math.max(k.max,j);}function e(m){var k=m?m:(b()-this.time),l=this,j=l.accum;++j.count;if(!--j.depth){h(j.total,k);}h(j.pure,k-l.childTime);
c=l.parent;if(c){++c.accum.childCount;c.childTime+=k;}}function a(){return{min:Number.MAX_VALUE,max:0,sum:0};}function i(k,j){return function(){var m=k.enter(),l=j.apply(this,arguments);m.leave();return l;};}function f(l,k,j,n){var m={avg:0,min:n.min,max:n.max,sum:0};if(l){j=j||0;m.sum=n.sum-k*j;m.avg=m.sum/l;
}return m;}return{requires:["Ext.XTemplate","Ext.ClassManager"],constructor:function(j){var k=this;k.count=k.childCount=k.depth=k.maxDepth=0;k.pure=a();k.total=a();k.name=j;},statics:{getTimestamp:b},format:function(j){if(!d){d=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(l){return Math.round(l*100)/100;
}});}var k=this.getData(j);k.name=this.name;k.pure.type="Pure";k.total.type="Total";k.times=[k.pure,k.total];return d.apply(k);},getData:function(j){var k=this;return{count:k.count,childCount:k.childCount,depth:k.maxDepth,pure:f(k.count,k.childCount,j,k.pure),total:f(k.count,k.childCount,j,k.total)};
},enter:function(){var j=this,k={accum:j,leave:e,childTime:0,parent:c};++j.depth;if(j.maxDepth<j.depth){j.maxDepth=j.depth;}c=k;k.time=b();return k;},monitor:function(l,k,j){var m=this.enter();if(j){l.apply(k,j);}else{l.call(k);}m.leave();},report:function(){Ext.log(this.format());},tap:function(r,t){var s=this,m=typeof t==="string"?[t]:t,q,u,o,n,l,k,j,p;
p=function(){if(typeof r==="string"){q=Ext.global;n=r.split(".");for(o=0,l=n.length;o<l;++o){q=q[n[o]];}}else{q=r;}for(o=0,l=m.length;o<l;++o){k=m[o];u=k.charAt(0)==="!";if(u){k=k.substring(1);}else{u=!(k in q.prototype);}j=u?q:q.prototype;j[k]=i(s,j[k]);}};Ext.ClassManager.onCreated(p,s,r);return s;
}};},function(){Ext.perf.getTimestamp=this.getTimestamp;});