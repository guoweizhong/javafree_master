Ext.define("Ext.sparkline.VmlCanvas",{extend:"Ext.sparkline.CanvasBase",setWidth:function(a){var b=this;b.callParent(arguments);b.owner.groupEl.dom.coordsize=b.width+" "+(b.height||0);b.owner.groupEl.dom.style.width=a+"px";},setHeight:function(a){var b=this;b.callParent(arguments);b.owner.groupEl.dom.coordsize=(b.width||0)+" "+b.height;
b.owner.groupEl.dom.style.height=a+"px";},onOwnerUpdate:function(){var a=this;a.group=a.owner.groupEl;a.el=a.owner.element;a.prerender=[];},_drawShape:function(f,m,h,a,d){var j=[],g,l,k,e,b,c;for(c=0,b=m.length;c<b;c++){j[c]=(m[c][0])+","+(m[c][1]);}g=j.splice(0,1);d=d==null?1:d;l=h==null?' stroked="false" ':' strokeWeight="'+d+'px" strokeColor="'+h+'" ';
k=a==null?' filled="false"':' fillColor="'+a+'" filled="true" ';e=j[0]===j[j.length-1]?"x ":"";return['<svml:shape coordorigin="0 0" coordsize="',this.pixelWidth," ",this.pixelHeight,'" id="jqsshape',f,'" ',l,k,' style="position:absolute;height:',this.pixelHeight,"px;width:",this.pixelWidth,'px" ',' path="m ',g," l ",j.join(", ")," ",e,'e"></svml:shape>'].join("");
},_drawCircle:function(d,h,f,c,g,a,b){var e=c*2,j,i;h-=c;f-=c;j=g==null?' stroked="false" ':' strokeWeight="'+b+'px" strokeColor="'+g+'" ';i=a==null?' filled="false"':' fillColor="'+a+'" filled="true" ';return['<svml:oval id="jqsshape',d,'" ',j,i,' style="position:absolute;top:',f,"px; left:",h,"px;width:",e,"px;height:",e,'px"></svml:oval>'].join("");
},_drawPieSlice:function(i,n,l,h,j,e,m,d){var k,c=this.pixelWidth,o=this.pixelHeight,b,a,g,f,q=m==null?' stroked="false" ':' strokeWeight="1px" strokeColor="'+m+'" ',p=d==null?' filled="false"':' fillColor="'+d+'" filled="true" ';if(j===e){return"";}if((e-j)===(2*Math.PI)){j=0;e=(2*Math.PI);}b=n+Math.round(Math.cos(j)*h);
a=l+Math.round(Math.sin(j)*h);g=n+Math.round(Math.cos(e)*h);f=l+Math.round(Math.sin(e)*h);if(b===g&&a===f){if((e-j)<Math.PI){return"";}b=g=n+h;a=f=l;}if(b===g&&a===f&&(e-j)<Math.PI){return"";}k=[n-h,l-h,n+h,l+h,b,a,g,f];return['<svml:shape coordorigin="0 0" coordsize="',c," ",o,'" id="jqsshape',i,'" ',q,p,' style="position:absolute;height:',o,"px;width:",c,'px" path="m ',n,",",l," wa ",k.join(", "),' x e"></svml:shape>'].join("");
},_drawRect:function(e,b,g,c,a,d,f){return this._drawShape(e,[[b,g],[b,g+a],[b+c,g+a],[b+c,g],[b,g]],d,f);},reset:function(){Ext.fly(this.group).empty();},appendShape:function(a){this.prerender.push(this["_draw"+a.type].apply(this,a.args));this.lastShapeId=a.id;return a.id;},replaceWithShape:function(d,a){var c=this.el.getById("jqsshape"+d,true),b=this["_draw"+a.type].apply(this,a.args);
c.outerHTML=b;},replaceWithShapes:function(b,a){var e=this.el.getById("jqsshape"+b[0],true),d="",f=a.length,c;for(c=0;c<f;c++){d+=this["_draw"+a[c].type].apply(this,a[c].args);}e.outerHTML=d;for(c=1;c<b.length;c++){this.el.getById("jqsshape"+b[c]).destroy();}},insertAfterShape:function(d,a){var c=this.el.getById("jqsshape"+d,true),b=this["_draw"+a.type].apply(this,a.args);
c.insertAdjacentHTML("afterEnd",b);},removeShapeId:function(b){var a=this.el.getById("jqsshape"+b,true);this.group.removeChild(a);},getShapeAt:function(a,c){var b=this.el.id.substr(8);return b;},render:function(){this.group.dom.innerHTML=this.prerender.join("");}},function(){Ext.onInternalReady(function(){var a=document;
if(a.namespaces&&!a.namespaces.svml){a.namespaces.add("svml","urn:schemas-microsoft-com:vml","#default#VML");}});});