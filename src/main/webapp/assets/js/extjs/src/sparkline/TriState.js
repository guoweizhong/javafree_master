Ext.define("Ext.sparkline.TriState",{extend:"Ext.sparkline.BarBase",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklinetristate",config:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},tipTpl:["&#9679; {value:this.states}",{states:function(a){var b=Number(a);
if(b===-1){return"Loss";}if(b===0){return"Draw";}if(b===1){return"Win";}return a;}}],applyColorMap:function(a){var b=this;if(Ext.isArray(a)){b.colorMapByIndex=a;b.colorMapByValue=null;}else{b.colorMapByIndex=null;b.colorMapByValue=a;if(b.colorMapByValue&&b.colorMapByValue.get==null){b.colorMapByValue=new Ext.sparkline.RangeMap(a);
}}b.updateConfigChange();return a;},applyValues:function(a){a=Ext.Array.map(Ext.Array.from(a),Number);this.disabled=!(a&&a.length);this.updateConfigChange();return a;},onUpdate:function(){this.totalBarWidth=this.getBarWidth()+this.getBarSpacing();},getBarWidth:function(){var a=this.values;return this._barWidth||(this.getWidth()-(a.length-1)*this.getBarSpacing())/a.length;
},getRegion:function(a,b){return Math.floor(a/this.totalBarWidth);},getRegionFields:function(a){return{isNull:this.values[a]==null,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a};},calcColor:function(f,g){var e=this,b=e.values,h=e.colorMapByIndex,d=e.colorMapByValue,a,c;if(d&&(c=d.get(f))){a=c;
}else{if(h&&h.length>g){a=h[g];}else{if(b[g]<0){a=e.getNegBarColor();}else{if(b[g]>0){a=e.getPosBarColor();}else{a=e.getZeroBarColor();}}}}return a;},renderRegion:function(e,b){var g=this,j=g.values,a=g.canvas,d,k,f,i,h,c;d=a.pixelHeight;f=Math.round(d/2);i=e*g.totalBarWidth;if(j[e]<0){h=f;k=f-1;}else{if(j[e]>0){h=0;
k=f-1;}else{h=f-1;k=2;}}c=g.calcColor(j[e],e);if(c==null){return;}if(b){c=g.calcHighlightColor(c);}a.drawRect(i,h,g.getBarWidth()-1,k-1,c,c).append();}});