Ext.define("Ext.app.EventDomain",{requires:["Ext.util.Event"],statics:{instances:{}},isEventDomain:true,isInstance:false,constructor:function(){var a=this;if(!a.isInstance){Ext.app.EventDomain.instances[a.type]=a;}a.bus={};a.monitoredClasses=[];},dispatch:function(h,m,k){m=Ext.canonicalEventName(m);var l=this,j=l.bus,n=j[m],e,c,b,d,o,g,f,a;
if(!n){return true;}for(e in n){if(n.hasOwnProperty(e)&&l.match(h,e,l.controller)){c=n[e];for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(d.controller.isActive()){o=d.list;g=o.length;for(f=0;f<g;f++){a=o[f];if(a.fire.apply(a,k)===false){return false;}}}}}}}return true;},listen:function(d,m){var v=this,l=v.bus,g=v.idProperty,h=v.monitoredClasses,e=h.length,k=m.getId(),u=(v.type==="component"),p=u?m.getRefMap():null,r,j,s,q,b,c,a,o,n,t,f;
for(q in d){n=d[q];if(u){q=p[q]||q;}if(n){if(g){if(!/^[*#]/.test(q)){Ext.raise("Selectors containing id should begin with #");}q=q==="*"?q:q.substring(1);}for(t in n){b=null;c=n[t];a=m;t=Ext.canonicalEventName(t);o=new Ext.util.Event(m,t);if(Ext.isObject(c)){b=c;c=b.fn;a=b.scope||m;delete b.fn;delete b.scope;
}if((!b||!b.scope)&&typeof c==="string"){if(!a[c]){Ext.raise('Cannot resolve "'+c+'" on controller.');}a=null;}else{if(typeof c==="string"){c=a[c];}}o.addListener(c,a,b);for(r=0;r<e;++r){f=h[r].hasListeners;if(f){f._incr_(t);}}j=l[t]||(l[t]={});j=j[q]||(j[q]={});s=j[k]||(j[k]={controller:m,list:[]});
s.list.push(o);}}}},match:function(c,a){var b=this.idProperty;if(b){return a==="*"||c[b]===a;}return false;},monitor:function(c){var b=this,a=c.isInstance?c:c.prototype,d=a.doFireEvent;b.monitoredClasses.push(c);a.doFireEvent=function(h,f){var g=this,e;e=d.apply(g,arguments);if(e!==false&&!g.destroyed&&!g.isSuspended(h)){e=b.dispatch(g,h,f);
}return e;};},unlisten:function(d){var m=this.bus,a=d,q=this.monitoredClasses,k=q.length,b,n,r,l,p,e,o,h,g,c,f;if(d.isController){a=d.getId();}for(n in m){n=Ext.canonicalEventName(n);if(m.hasOwnProperty(n)&&(o=m[n])){for(e in o){b=o[e];c=b[a];if(c){r=c.list;if(r){for(h=0,l=r.length;h<l;++h){p=r[h];p.clearListeners();
for(g=0;g<k;++g){f=q[g].hasListeners;if(f){f._decr_(p.name);}}}delete b[a];}}}}}},destroy:function(){this.monitoredClasses=this.bus=null;this.callParent();}});