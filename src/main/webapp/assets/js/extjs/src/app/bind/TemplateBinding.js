Ext.define("Ext.app.bind.TemplateBinding",{extend:"Ext.app.bind.BaseBinding",requires:["Ext.app.bind.Multi","Ext.app.bind.Template"],isTemplateBinding:true,lastValue:undefined,value:undefined,constructor:function(e,a,h,d,c){var f=this,b=new Ext.app.bind.Template(e),g=b.getTokens();f.callParent([a,h,d,c]);
f.tpl=b;f.tokens=g;g.$literal=true;if(!b.isStatic()){f.multiBinding=new Ext.app.bind.Multi(g,a,f.onBindData,f);}else{f.isStatic=true;f.onData(b.text);}},destroy:function(){var a=this;Ext.destroy(a.multiBinding);a.tpl=a.multiBinding=null;a.callParent();},getFullName:function(){var a=this.multiBinding;
return this.fullName||(this.fullName="$"+(a?a.getFullName():this.callParent()));},getRawValue:function(){return this.value;},getTemplateScope:function(){return null;},isAvailable:function(){var a=this.multiBinding;return a?a.isAvailable():false;},isDescendantOf:function(){return false;},isLoading:function(){var a=this.multiBinding;
return a?a.isLoading():false;},onBindData:function(a){this.onData(this.tpl.apply(a,this.getTemplateScope()));},onData:function(c){var b=this,a=b.value;if(a!==(b.value=c)){b.lastValue=a;b.schedule();}},react:function(){this.notify(this.value);},refresh:function(){var a=this.multiBinding;if(a){a.refresh();
}},privates:{sort:function(){var a=this.multiBinding;if(a){this.scheduler.sortItem(a);}}}});