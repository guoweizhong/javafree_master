Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",requires:["Ext.JSON"],alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,metaProperty:"metaData",useSimpleAccessors:false,preserveRawData:false},updateRootProperty:function(){this.forceBuildExtractors();},updateMetaProperty:function(){this.forceBuildExtractors();
},getResponseData:function(a){var b;try{return Ext.decode(a.responseText);}catch(c){b=this.createReadError(c.message);Ext.Logger.warn("Unable to parse the JSON returned by the server");this.fireEvent("exception",this,a,b);return b;}},buildExtractors:function(c){var b=this,a=Ext.emptyFn,d;if(b.callParent([c])){b.getRoot=b.setupExtractor(b.getRootProperty(),Ext.identityFn);
b.getGroupRoot=b.setupExtractor(b.getGroupRootProperty(),a);b.getSummaryRoot=b.setupExtractor(b.getSummaryRootProperty(),a);b.getMeta=b.setupExtractor(b.getMetaProperty(),a);}},extractData:function(a,e){var f=this.getRecord(),d=[],c,b;if(f){c=a.length;if(!c&&Ext.isObject(a)){c=1;a=[a];}for(b=0;b<c;b++){d[b]=a[b][f];
}}else{d=a;}return this.callParent([d,e]);},getModelData:function(a){return this.getPreserveRawData()?Ext.apply({},a):a;},createAccessor:(function(){var a=/[\[\.]/;return function(o){var b=this.getUseSimpleAccessors(),e,s,j,f,d,p,r,n,m,k,l,g,q,h;if(!(o||o===0)){return;}if(typeof o==="function"){return o;
}if(!b){e=String(o).search(a);}if(b===true||e<0){s=function(c){return c[o];};}else{j="raw";f=[];d="";p=0;h=o.length;for(g=0;g<=h;++g){l=o[g];r=l===".";n=l==="[";m=l==="]";k=r||n||m||!l;if(!k||p>1||(p&&!m)){d+=l;}else{if(k){q=false;if(n){++p;}else{if(m){--p;q=true;}}if(d){if(q){d="["+d+"]";}else{d="."+d;
}j+=d;f.push(""+j);d="";}}}}s=f.join(" && ");s=Ext.functionFactory("raw","return "+s);}return s;};}()),createFieldAccessor:function(e){var b=this,a=e.mapping,c=a||a===0,d=c?a:e.name;if(c){if(typeof d==="function"){return function(g,f){return e.mapping(g,f);};}else{return b.createAccessor(d);}}},getAccessorKey:function(b){var a=this.getUseSimpleAccessors()?"simple":"";
return this.callParent([a+b]);},privates:{copyFrom:function(a){this.callParent([a]);this.getRoot=a.getRoot;},setupExtractor:function(b,a){return b?this.getAccessor(b):a;}}});