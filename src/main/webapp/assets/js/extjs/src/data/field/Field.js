Ext.define("Ext.data.field.Field",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.data.SortTypes","Ext.data.validator.Validator"],alternateClassName:"Ext.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:true,isField:true,allowBlank:true,allowNull:false,critical:false,defaultInvalidMessage:"This field is invalid",defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,summary:null,summaryField:"",unique:false,rank:null,stripRe:/[\$,%]/g,calculated:false,evil:false,identifier:false,onClassExtended:function(c,e){var f=e.sortType,d=c.prototype,a=d.validators,b=e.validators;
if(f&&Ext.isString(f)){d.sortType=Ext.data.SortTypes[f];}if(b){if(!Ext.isArray(b)){b=[b];}delete e.validators;if(a){b=a.concat(b);}d.validators=b;}},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(d){var k=this,m=k.calculateRe,g,n,l,h,c,a,i,b,j,e,f;
if(d){if(Ext.isString(d)){k.name=d;}else{f=d.validators;if(f){delete d.validators;k.instanceValidators=f;}Ext.apply(k,d);}}if(!k.allowNull){k.allowNull=!!k.reference;}g=k.calculate;c=k.depends;if(g){k.convert=k.doCalculate;if(!c){if(!(c=g.$depends)){a={};j=Ext.Function.toCode(g);g.$depends=c=[];i=k.argumentNamesRe.exec(j);
b=i?i[1]:"data";while((i=m.exec(j))){if(b===i[1]&&!a[e=i[2]]){a[e]=1;c.push(e);}}}k.depends=c;}}l=k.defaultValue;if(k.convert){k.calculated=n=k.convert.length>1;k.evil=n&&!c;}if(k.persist===null){k.persist=!g;}h=k.sortType;if(!k.sortType){k.sortType=Ext.data.SortTypes.none;}else{if(Ext.isString(h)){k.sortType=Ext.data.SortTypes[h];
}}if(c&&typeof c==="string"){k.depends=[c];}k.cloneDefaultValue=l!==undefined&&(Ext.isDate(l)||Ext.isArray(l)||Ext.isObject(l));},setModelValidators:function(a){this._validators=null;this.modelValidators=a;},compileValidators:function(){var a=this;a._validators=[];a.constructValidators(a.validators);
a.constructValidators(a.modelValidators);a.constructValidators(a.instanceValidators);},constructValidators:function(a){if(a){if(!(a instanceof Array)){a=[a];}var g=a.length,e=this._validators,d,f,c,b;for(d=0;d<g;++d){f=a[d];if(f.fn){f=f.fn;}c=Ext.Factory.dataValidator(f);if(!c.isPresence){e.push(c);}else{b=c;
}}if(b){this.presence=[b];}}},collate:function(c,b){var d=this,a=c,e=b;if(d.sortType){a=d.sortType(a);e=d.sortType(e);}return(a===e)?0:((a<e)?-1:1);},compare:function(b,a){return(b===a)?0:((b<a)?-1:1);},isEqual:function(b,a){return this.compare(b,a)===0;},convert:null,serialize:null,validate:function(e,f,g,b){var d=this,a,c;
if(!d._validators){d.compileValidators();}c=this.presence;if(c&&(e==null||e==="")){a=d.validateGroup(c,e,f,g,b);if(a!==true){return a;}}return d.validateGroup(d._validators,e,f,g,b);},validateGroup:function(c,j,e,h,f){var g="",a,b,d,k;for(d=0,b=c.length;d<b;++d){a=c[d];k=a.validate(j,f);if(k!==true){k=k||this.defaultInvalidMessage;
if(h){if(h.isMixedCollection){h.add(this.name,k);}else{if(h.isCollection){h.add(k);}else{h.push(k);}}g=g||k;}else{if(e){if(g){g+=e;}g+=k;}else{g=k;break;}}}}return g||true;},doCalculate:function(a,b){return b?this.calculate(b.data):a;},getName:function(){return this.name;},getAllowBlank:function(){return this.allowBlank;
},getAllowNull:function(){return this.allowNull;},getConvert:function(){return this.convert;},getDefaultValue:function(){return this.defaultValue;},getDepends:function(){return this.depends;},getMapping:function(){return this.mapping;},hasMapping:function(){var a=this.mapping;return !!(a||a===0);},getPersist:function(){return this.persist;
},getSortType:function(){return this.sortType;},getSummary:function(){var c=this,a=c.doneSummary,b=c.summary;if(!a){c.doneSummary=true;if(b){c.summary=b=Ext.Factory.dataSummary(b);}}return b||null;},getType:function(){return"auto";},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir;
}}}}});