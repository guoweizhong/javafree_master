Ext.define("Ext.Template",{requires:["Ext.util.Format"],inheritableStatics:{from:function(b,a){b=Ext.getDom(b);return new this(b.value||b.innerHTML,a||"");}},useEval:Ext.isGecko,constructor:function(d){var f=this,b=arguments,a=[],c,e=b.length,g;f.initialConfig={};if(e===1&&Ext.isArray(d)){b=d;e=b.length;
}if(e>1){for(c=0;c<e;c++){g=b[c];if(typeof g==="object"){Ext.apply(f.initialConfig,g);Ext.apply(f,g);}else{a.push(g);}}}else{a.push(d);}f.html=a.join("");},isTemplate:true,disableFormats:false,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(a){var b=this;
if(b.compiled){if(!b.fn){b.compile();}return b.fn(a).join("");}return b.evaluate(a);},evaluate:function(a){var f=this,c=!f.disableFormats,e=Ext.util.Format,b=f;function d(j,i,h,k,g){if(h==null||h===""){h=i;}if(k&&c){if(g){g=[a[h]].concat(Ext.functionFactory("return ["+g+"];")());}else{g=[a[h]];}if(k.substr(0,5)==="this."){return b[k.substr(5)].apply(b,g);
}else{if(e[k]){return e[k].apply(e,g);}else{return j;}}}else{return a[h]!==undefined?a[h]:"";}}return f.html.replace(f.tokenRe,d);},applyOut:function(a,b){var c=this;if(c.compiled){if(!c.fn){c.compile();}b.push.apply(b,c.fn(a));}else{b.push(c.apply(a));}return b;},applyTemplate:function(){return this.apply.apply(this,arguments);
},set:function(a,c){var b=this;b.html=a;b.compiled=!!c;b.fn=null;return b;},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var b=this,a;a=b.html.replace(b.compileARe,"\\\\").replace(b.compileBRe,"\\n").replace(b.compileCRe,"\\'").replace(b.tokenRe,b.regexReplaceFn.bind(b));
a=(this.disableFormats!==true?"var fm=Ext.util.Format;":"")+(b.useEval?"$=":"return")+" function(v){return ['"+a+"'];};";b.fn=b.useEval?b.evalCompiled(a):(new Function("Ext",a))(Ext);b.compiled=true;return b;},evalCompiled:function($){eval($);return $;},regexReplaceFn:function(d,c,b,e,a){if(c==null||c===""){c='"'+b+'"';
}else{if(this.stringFormat){c=parseInt(c)+1;}}if(e&&this.disableFormats!==true){a=a?","+a:"";if(e.substr(0,5)==="this."){e=e+"(";}else{if(Ext.util.Format[e]){e="fm."+e+"(";}else{return d;}}return"',"+e+"v["+c+"]"+a+"),'";}else{return"',v["+c+"] == undefined ? '' : v["+c+"],'";}},insertFirst:function(b,a,c){return this.doInsert("afterBegin",b,a,c);
},insertBefore:function(b,a,c){return this.doInsert("beforeBegin",b,a,c);},insertAfter:function(b,a,c){return this.doInsert("afterEnd",b,a,c);},append:function(b,a,c){return this.doInsert("beforeEnd",b,a,c);},doInsert:function(b,d,a,e){var c=Ext.DomHelper.insertHtml(b,Ext.getDom(d),this.apply(a));return e?Ext.get(c):c;
},overwrite:function(c,a,d){var b=Ext.DomHelper.overwrite(Ext.getDom(c),this.apply(a));return d?Ext.get(b):b;}},function(d){var c=/\{\d+\}/,a=function(f){if(c.test(f)){f=new d(f,b);return function(){return f.apply(arguments);};}else{return function(){return f;};}},b={useFormat:false,compiled:true,stringFormat:true},e={};
Ext.String.format=Ext.util.Format.format=function(g){var f=e[g]||(e[g]=a(g));return f.apply(this,arguments);};Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments));};});