Ext.define("Ext.fx.runner.Css",{extend:"Ext.Evented",requires:["Ext.fx.Animation"],prefixedProperties:{"transform":true,"transform-origin":true,"perspective":true,"transform-style":true,"transition":true,"transition-property":true,"transition-duration":true,"transition-timing-function":true,"transition-delay":true,"animation":true,"animation-name":true,"animation-duration":true,"animation-iteration-count":true,"animation-direction":true,"animation-timing-function":true,"animation-delay":true},lengthProperties:{"top":true,"right":true,"bottom":true,"left":true,"width":true,"height":true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,"border-bottom-width":true,"border-left-width":true,"border-right-width":true,"border-spacing":true,"border-top-width":true,"border-width":true,"outline-width":true,"letter-spacing":true,"line-height":true,"text-indent":true,"word-spacing":true,"font-size":true,"translate":true,"translateX":true,"translateY":true,"translateZ":true,"translate3d":true,"x":true,"y":true},durationProperties:{"transition-duration":true,"transition-delay":true,"animation-duration":true,"animation-delay":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",customProperties:{x:true,y:true},formattedNameCache:{"x":"left","y":"top"},transformMethods3d:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"],transformMethodsNo3d:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],constructor:function(){var a=this;
a.transformMethods=Ext.feature.has.Css3dTransforms?a.transformMethods3d:a.transformMethodsNo3d;a.vendorPrefix=Ext.browser.getStyleDashPrefix();a.ruleStylesCache={};a.callParent();},getStyleSheet:function(){var c=this.styleSheet,a,b;if(!c){a=document.createElement("style");a.type="text/css";(document.head||document.getElementsByTagName("head")[0]).appendChild(a);
b=document.styleSheets;this.styleSheet=c=b[b.length-1];}return c;},applyRules:function(i){var g=this.getStyleSheet(),k=this.ruleStylesCache,j=g.cssRules,c,e,h,b,d,a,f;for(c in i){e=i[c];h=k[c];if(h===undefined){d=j.length;g.insertRule(c+"{}",d);h=k[c]=j.item(d).style;}b=h.$cache;if(!b){b=h.$cache={};
}for(a in e){f=this.formatValue(e[a],a);a=this.formatName(a);if(b[a]!==f){b[a]=f;if(f===null){h.removeProperty(a);}else{h.setProperty(a,f);}}}}return this;},applyStyles:function(d){var g,c,f,b,a,e;for(g in d){if(d.hasOwnProperty(g)){this.activeElement=c=document.getElementById(g);if(!c){continue;}f=c.style;
b=d[g];for(a in b){if(b.hasOwnProperty(a)){e=this.formatValue(b[a],a);a=this.formatName(a);if(e===null){f.removeProperty(a);}else{f.setProperty(a,e);}}}}}this.activeElement=null;return this;},formatName:function(b){var a=this.formattedNameCache,c=a[b];if(!c){if((Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[b]){c=this.vendorPrefix+b;
}else{c=b;}a[b]=c;}return c;},formatValue:function(k,b){var h=typeof k,c=this.DEFAULT_UNIT_LENGTH,j=this.customProperties[b],f,a,e,g,d,l;if(k===null){return"";}if(h==="string"){if(this.lengthProperties[b]){if(!Ext.dom.Element.hasUnit(k)){k=k+c;if(j){k=this.getCustomValue(k,b);}}}return k;}else{if(h==="number"){if(k===0){return"0";
}if(this.lengthProperties[b]){k=k+c;if(j){k=this.getCustomValue(k,b);}return k;}if(this.angleProperties[b]){return k+this.DEFAULT_UNIT_ANGLE;}if(this.durationProperties[b]){return k+this.DEFAULT_UNIT_DURATION;}}else{if(b==="transform"){f=this.transformMethods;d=[];for(e=0,g=f.length;e<g;e++){a=f[e];d.push(a+"("+this.formatValue(k[a],a)+")");
}return d.join(" ");}else{if(Ext.isArray(k)){l=[];for(e=0,g=k.length;e<g;e++){l.push(this.formatValue(k[e],b));}return(l.length>0)?l.join(", "):"none";}}}}return k;},getCustomValue:function(c,a){var b=Ext.fly(this.activeElement);if(a==="x"){c=b.translateXY(parseInt(c,10)).x;}else{if(a==="y"){c=b.translateXY(null,parseInt(c,10)).y;
}}return c+this.DEFAULT_UNIT_LENGTH;}});