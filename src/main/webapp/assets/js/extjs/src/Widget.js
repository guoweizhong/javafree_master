Ext.define("Ext.Widget",{extend:"Ext.Evented",xtype:"widget",alternateClassName:"Ext.Gadget",requires:["Ext.dom.Element"],mixins:["Ext.mixin.Inheritable","Ext.mixin.Bindable","Ext.mixin.ComponentDelegation","Ext.mixin.Pluggable","Ext.mixin.Keyboard","Ext.mixin.Factoryable","Ext.mixin.Focusable","Ext.mixin.Accessible"],isWidget:true,factoryConfig:{creator:null,defaultProperty:"xtype",defaultType:"component",typeProperty:"xtype"},element:{reference:"element"},observableType:"component",cachedConfig:{cls:null,style:null,border:null,touchAction:null,eventHandlers:{focus:"handleFocusEvent",blur:"handleBlurEvent"}},name:null,config:{renderTo:null,ui:null,userCls:null,ripple:null,hideMode:null,instanceCls:null},eventedConfig:{width:null,height:null,hidden:null,disabled:null},template:[],baseCls:null,classCls:null,classClsRoot:true,classClsList:[],clearPropertiesOnDestroy:"async",focusEl:"element",ariaEl:"element",spaceRe:/\s+/,noBorderCls:Ext.baseCSSPrefix+"noborder-trbl",borderedCls:Ext.baseCSSPrefix+"bordered",disabledCls:Ext.baseCSSPrefix+"disabled",heightedCls:Ext.baseCSSPrefix+"heighted",widthedCls:Ext.baseCSSPrefix+"widthed",constructor:function(b){var d=this,c=d.baseCls,e=b&&b.renderTo,a;
d.$iid=++Ext.$nextIid;if(c==null||c===true){d.baseCls=d.classCls||Ext.baseCSSPrefix+d.xtype;}if(b&&("baseCls" in b)){Ext.raise("baseCls cannot be used as an instance config. It must be specified at class definition time.");}d.initId(b);d.initElement();if(e){b=Ext.apply({},b);delete b.renderTo;}d.mixins.observable.constructor.call(d,b);
if(e){d.setRenderTo(e);}d.syncUiCls();Ext.ComponentManager.register(d);a=d.getController();if(a){a.init(d);}},afterCachedConfig:function(){var h=this,j=h.self.prototype,k=h.referenceList,c=h.renderElement,f,d,e,g,b,a;j.renderTemplate=f=document.createDocumentFragment();f.appendChild(c.clone(true,true));
a=f.querySelectorAll("[id]");for(e=0,g=a.length;e<g;e++){d=a[e];d.removeAttribute("id");}for(e=0,g=k.length;e<g;e++){b=k[e];h[b].dom.removeAttribute("reference");}},applyHidden:function(a){return !!a;},applyDisabled:function(a){return !!a;},updateDisabled:function(b){var c=this,a=c.ownerFocusableContainer;
if(a){if(b){if(!a.beforeFocusableChildDisable.$nullFn){a.beforeFocusableChildDisable(c);}}else{if(!a.beforeFocusableChildEnable.$nullFn){a.beforeFocusableChildEnable(c);}}}c.element.toggleCls(c.disabledCls,b);if(c.focusable){if(b){c.disableFocusable();}else{c.enableFocusable();}}if(a){if(b){if(!a.onFocusableChildDisable.$nullFn){a.onFocusableChildDisable(c);
}}else{if(!a.onFocusableChildEnable.$nullFn){a.onFocusableChildEnable(c);}}}},disable:function(){this.setDisabled(true);},enable:function(){this.setDisabled(false);},isDisabled:function(){return this.getDisabled();},isEnabled:function(){return !this.getDisabled();},applyTouchAction:function(a,b){if(b!=null){a=Ext.merge({},b,a);
}return a;},applyWidth:function(a){return this.filterLengthValue(a);},applyHeight:function(a){return this.filterLengthValue(a);},updateBorder:function(a){var b=this;a=a||a===null;b.toggleCls(b.noBorderCls,!a);b.toggleCls(b.borderedCls,!!a);},clearListeners:function(){var a=this;a.mixins.observable.clearListeners.call(a);
a.mixins.componentDelegation.clearDelegatedListeners.call(a);},destroy:function(){var a=this;a.isDestroying=a.destroying=true;a.doDestroy();a.clearListeners();a.isDestroying=a.destroying=false;a.mixins.componentDelegation.destroyComponentDelegation.call(a);a.callParent();},doDestroy:function(){var f=this,c=f.referenceList,b=f.ownerFocusableContainer,d,e,a;
if(b&&!b.onFocusableChildDestroy.$nullFn){b.onFocusableChildDestroy(f);}for(d=0,e=c.length;d<e;d++){a=c[d];if(f.hasOwnProperty(a)){f[a].destroy();f[a]=null;}}f.destroyBindable();Ext.ComponentManager.unregister(f);},doFireEvent:function(b,d,a){var e=this,c;c=e.mixins.observable.doFireEvent.call(e,b,d,a);
if(c!==false&&!e.destroyed){c=e.mixins.componentDelegation.doFireDelegatedEvent.call(e,b,d);}return c;},getBubbleTarget:function(){return this.getRefOwner();},getElementConfig:function(){var b=this,a=b.element;if(!("children" in a)){a=Ext.apply({children:b.getTemplate()},a);}return a;},getSize:function(){return this.el.getSize();
},getTemplate:function(){return Ext.clone(this.template);},getClassCls:function(){var e=this.self.prototype,a=e,c,f,b,d;while(a){f=a.hasOwnProperty("classCls")?a.classCls:null;if(f){if(f instanceof Array){for(b=0,d=f.length;b<d;b++){(c||(c=[])).push(f[b]);}}else{(c||(c=[])).push(f);}}if(a.classClsRoot&&a.hasOwnProperty("classClsRoot")){break;
}a=a.superclass;}if(c){e.classClsList=c;}return c;},hide:function(){this.setHidden(true);},initElement:function(){var y=this,m=y.self.prototype,o=y.getId(),r=y.referenceList=y.referenceList=[],w=!m.hasOwnProperty("renderTemplate"),f=m.hasOwnProperty("uiReferences")?m.uiReferences:(m.uiReferences={element:""}),l,v,a,d,p,u,s,k,b,n,h,t,g,x,e,c,q;
if(w){l=document.createDocumentFragment();a=y.processElementConfig.call(m);v=Ext.Element.create(a,true);l.appendChild(v);p=l.querySelectorAll("[uiCls]");for(u=0,k=p.length;u<k;u++){n=p[u];h=n.getAttribute("reference");g=n.getAttribute("uiCls");if(!h){Ext.raise('Cannot render element with uiCls="'+g+'". uiCls is only allowed on elements that have a reference name.');
}f[h]=g;n.removeAttribute("uiCls");}}else{l=y.renderTemplate.cloneNode(true);v=l.firstChild;}p=l.querySelectorAll("[reference]");for(u=0,k=p.length;u<k;u++){n=p[u];h=n.getAttribute("reference");if(!w){n.removeAttribute("reference");}if(h==="element"){if(d){Ext.raise("Duplicate 'element' reference detected in '"+y.$className+"' template.");
}n.id=o;d=y.el=y.addElementReference(h,n);d.dom.setAttribute("data-componentid",o);if(w){t=y.getClassCls();if(t){d.addCls(t);}x=y.baseCls;if(x&&(x!==y.classCls)){d.addCls(x);}}}else{g=f[h];if(g&&w){q=y.addElementReference(h,n);y.initUiReference(h,g,false);}else{y.addElementReferenceOnDemand(h,n);}}if(h===y.focusEl){y.addElementReference("focusEl",n);
}if(h===y.ariaEl){y.addElementReferenceOnDemand("ariaEl",n);}r.push(h);}if(!d){Ext.raise("No 'element' reference found in '"+y.$className+"' template.");}if(v===d.dom){y.renderElement=d;}else{y.addElementReferenceOnDemand("renderElement",v);}v.setAttribute(y.dataXid,y.$iid);if(y.focusable){y.initFocusableEvents(true);
}},dataXid:"data-"+Ext.baseCSSPrefix.substr(0,Ext.baseCSSPrefix.length-1)+"id",is:function(a){return Ext.ComponentQuery.is(this,a);},isHidden:function(b){var c=!!this.getHidden(),a;if(!c&&b){a=this.getRefOwner();while(a&&a!==b&&!c){c=!!a.getHidden();a=a.getRefOwner();}}return c;},isVisible:function(a){return this.rendered&&!this.destroyed&&!this.isHidden(a);
},isXType:function(b,a){return a?(Ext.Array.indexOf(this.xtypes,b)!==-1):!!this.xtypesMap[b];},lookupTpl:function(a){return Ext.XTemplate.getTpl(this,a);},owns:function(b){var a=false,c;if(b.isEvent){b=b.target;}else{if(b.isElement){b=b.dom;}}c=Ext.Component.from(b);if(c){a=(c===this)||(!!c.up(this));
}return a;},render:function(a,c){if(a&&a.isWidget){a=a.el;}var e=this.renderElement.dom,d=Ext.getDom(a),b;if(Ext.isNumber(b)){c=d.childNodes[c];}b=Ext.getDom(c);if(d){if(b){d.insertBefore(e,b);}else{d.appendChild(e);}this.setRendered(Ext.getBody().contains(e),true);}},toggleCls:function(a,b){this.element.toggleCls(a,b);
return this;},resolveListenerScope:function(b,a){return this.mixins.inheritable.resolveListenerScope.call(this,b,a);},setSize:function(b,a){if(b&&typeof b==="object"){return this.setSize(b.width,b.height);}if(b!==undefined){this.setWidth(b);}if(a!==undefined){this.setHeight(a);}},show:function(){this.setHidden(false);
},addCls:function(a,b,c){if(!this.destroyed){this.el.replaceCls(null,a,b,c);}},applyCls:function(a){return a&&Ext.dom.Element.splitCls(a);},removeCls:function(a,b,c){if(!this.destroyed){this.el.replaceCls(a,null,b,c);}},replaceCls:function(a,b,c,d){if(!this.destroyed){this.el.replaceCls(a,b,c,d);}},hasCls:function(a){return this.el.hasCls(a);
},updateCls:function(b,a){this.element.replaceCls(a,b);},updateHidden:function(d){var c=this,b=c.renderElement,a=c.ownerFocusableContainer;if(a){if(d){if(!a.beforeFocusableChildHide.$nullFn){a.beforeFocusableChildHide(c);}}else{if(!a.beforeFocusableChildShow.$nullFn){a.beforeFocusableChildShow(c);}}}else{if(d){c.revertFocus();
}}if(b&&!b.destroyed){if(d){b.hide();}else{b.show();}}if(c.focusableContainer&&c.activateFocusableContainer){c.activateFocusableContainer(!d);}if(a){if(d){if(!a.onFocusableChildHide.$nullFn){a.onFocusableChildHide(c);}}else{if(!a.onFocusableChildShow.$nullFn){a.onFocusableChildShow(c);}}}},updateRipple:function(a){var c=this,b=c.el;
if(b){b.un("touchstart","onRippleStart",c);b.un("touchend","onRippleStart",c);b.destroyAllRipples();if(a.release!==false){b.on("touchstart","onRippleStart",c);}else{b.on("touchend","onRippleStart",c);}}},shouldRipple:function(g){var d=this,c=d.getDisabled&&d.getDisabled(),b=d.el,a=!c&&d.getRipple(),f;
if(a&&g){f=g.getTarget(d.noRippleSelector);if(f){if((b.dom===f)||b.contains(f)){a=null;}}}return a;},onRippleStart:function(b){var a=this.shouldRipple(b);if(b.button===0&&a){this.el.ripple(b,a);}},applyStyle:function(b,a){if(a&&b===a&&Ext.isObject(a)){b=Ext.apply({},b);}this.element.applyStyles(b);return null;
},getStyle:function(){Ext.Error.raise("'style' is a write-only config.  To query element styles use the Ext.dom.Element API.");},updateRenderTo:function(a){this.render(a);},updateTouchAction:function(e){var b,a,c,d;for(b in e){a=this[b];c=e[b];if(a&&a.isElement){a.setTouchAction(c);}else{d=true;}}if(d){this.el.setTouchAction(e);
}},updateUi:function(){if(!this.isConfiguring){this.syncUiCls();}},updateWidth:function(b){var a=this.el;a.setWidth(b);a.toggleCls(this.widthedCls,b!=null&&b!=="auto");},updateHeight:function(a){var b=this.el;b.setHeight(a);b.toggleCls(this.heightedCls,a!=null&&a!=="auto");},isWidthed:function(){var a=this.getWidth();
return a!=null&&a!=="auto";},isHeighted:function(){var a=this.getHeight();return a!=null&&a!=="auto";},up:function(d,e){var c=this.getRefOwner(),b=typeof e==="string",g=typeof e==="number",a=e&&e.isComponent,f=0;if(d){for(;c&&!c.destroyed;c=c.getRefOwner()){f++;if(d.isComponent||d.isWidget){if(c===d){return c;
}}else{if(Ext.ComponentQuery.is(c,d)){return c;}}if(b&&c.is(e)){return;}if(g&&f===e){return;}if(a&&c===e){return;}}}return c;},updateLayout:Ext.emptyFn,updateInstanceCls:function(b,k){var j=this,a=j.el,l=j.classClsList,d=Ext.Array,m=j.uiReferences,g,c,f,h,n,e;if(k){a.removeCls(k);k=d.from(k);for(f=0,h=k.length;
f<h;f++){n=k[f];d.remove(l,n);for(g in m){c=j[g];e=m[g];c.removeCls(n+"-"+e);}}}if(b){a.addCls(b);b=d.from(b);j.classClsList=l.concat(b);for(f=0,h=b.length;f<h;f++){n=b[f];for(g in m){c=j[g];e=m[g];c.addCls(n+"-"+e);}}}if(!j.isConfiguring){j.syncUiCls();}},isDescendantOf:function(a){var b;for(b=this.getRefOwner();
b&&b!==a;b=b.getRefOwner()){}return b||null;},isAncestor:function(a){while(a){if(a.getRefOwner()===this){return true;}a=a.getRefOwner();}},getBaseCls:function(){return this.baseCls;},setBaseCls:function(){Ext.raise("baseCls cannot be reconfigured. It must be specified at class definition time.");},onClassExtended:function(b,a){if(a.config&&a.config.baseCls){Ext.raise("baseCls must be declared directly on the class body. Please move it outside of the config block.");
}},privates:{_hideModes:{clip:"CLIP",display:"DISPLAY",offsets:"OFFSETS",opacity:"OPACITY",visibility:"VISIBILITY"},noRippleSelector:"."+Ext.baseCSSPrefix+"no-ripple",addElementReferenceOnDemand:function(a,b){if(this._elementListeners[a]){this.addElementReference(a,b);}else{Ext.Object.defineProperty(this,a,{get:function(){if(this.destroyed){return;
}delete this[a];return this.addElementReference(a,b);},configurable:true});}},addElementReference:function(c,e){var f=this,b=f[c]=Ext.get(e),d=f._elementListeners[c],a,g;b.skipGarbageCollection=true;b.component=f;if(d){d=Ext.clone(d);for(a in d){g=d[a];if(typeof g==="object"){g.scope=f;}}d.scope=f;b.on(d);
}return b;},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element,true);this.isDetached=true;},reattachToBody:function(){var a;if(this.isDetached){a=Ext.getDetachedBody();if(a.contains(this.element)){Ext.getBody().appendChild(this.element,true);}}this.isDetached=false;},doAddListener:function(a,j,k,m,c,b,e){var i=this,l=m&&m.element,h=m&&m.delegate,g,d,f;
if(l){if(Ext.Array.indexOf(i.referenceList,l)===-1){Ext.Logger.error("Adding event listener with an invalid element reference of '"+l+"' for this component. Available values are: '"+i.referenceList.join("', '")+"'",i);}g={};g[a]=j;if(k){g.scope=k;}d=Ext.Element.prototype.$eventOptions;for(f in m){if(d[f]){g[f]=m[f];
}}i.mon(i[l],g);return;}else{if(h){i.mixins.componentDelegation.addDelegatedListener.call(i,a,j,k,m,c,b,e);return;}}i.callParent([a,j,k,m,c,b,e]);},doRemoveListener:function(a,c,b){var d=this;d.mixins.observable.doRemoveListener.call(d,a,c,b);d.mixins.componentDelegation.removeDelegatedListener.call(d,a,c,b);
},filterLengthValue:function(a){if(!a&&a!==0){return null;}return a;},initElementListeners:function(l){var k=this,d=k.self.superclass,c=d._elementListeners,e=l.reference,a=l.children,g,j,b,h,f;if(k.hasOwnProperty("_elementListeners")){g=k._elementListeners;}else{g=k._elementListeners=(c?Ext.Object.chain(c):{});
}if(e){j=l.listeners;if(j){if(c){b=c[e];if(b){j=Ext.Object.chain(b);Ext.apply(j,l.listeners);}}g[e]=j;l.listeners=null;}}if(a){for(f=0,h=a.length;f<h;f++){k.initElementListeners(a[f]);}}},initId:function(b){var c=this,a=c.config,d=(b&&b.id)||(a&&a.id);if(d){c.setId(d);c.id=d;}else{c.getId();}},processElementConfig:function(){var a=this,c=a.self.superclass,b;
if(a.hasOwnProperty("_elementConfig")){b=a._elementConfig;}else{b=a._elementConfig=a.getElementConfig();if(c.isWidget){a.processElementConfig.call(c);}a.initElementListeners(b);}return b;},addUi:function(a){this.setUi(this.doAddUi(a,this.getUi()));},doAddUi:function(h,g){var f=this,e=f.spaceRe,b=null,d,c,a;
if(h){h=h.split(e);a=h.length;g=(g&&g.split(e))||[];for(d=0;d<a;d++){c=h[d];if(g.indexOf(c)===-1){g.push(c);}}b=g.join(" ");}return b;},removeUi:function(a){this.setUi(this.doRemoveUi(a,this.getUi()));},doRemoveUi:function(f,g){var e=this,d=e.spaceRe,h=null,a,j,c,b;if(f){f=f.split(d);b=f.length;g=(g&&g.split(d))||[];
for(a=0;a<b;a++){j=f[a];c=g.indexOf(j);if(c!==-1){g.splice(c,1);}}h=g.join(" ");}return h;},initUiReference:function(f,e,b){var h=this,c=h[f],g=h.baseCls,j=h.classClsList,k=[],d,a;b=(b!==false);if(b){if(!h.hasOwnProperty("uiReferences")){h.uiReferences=Ext.clone(h.uiReferences);}h.uiReferences[f]=e;}e="-"+e;
if(g&&(g!==h.classCls)){k.push(g+e);}if(j){for(d=0,a=j.length;d<a;d++){k.push(j[d]+e);}}c.addCls(k);if(b&&!h.isConfiguring){h.syncUiCls();}},syncUiCls:function(){var m=this,n=m.getUi(),k=m.currentUiCls||(m.currentUiCls={}),l=m.baseCls,o=m.uiReferences,p=m.classClsList,d=p?p.length:0,h,b,f,c,r,q,a,g,e;
if(n){n=n.split(" ");b=n.length;}for(f in o){c=m[f];h=[];if(c){r=k[f];if(r){c.removeCls(r);}if(n){q=o[f];q=q?("-"+q):"";for(g=0;g<b;g++){a="-"+n[g]+q;if(l&&(l!==m.classCls)){h.push(l+a);}if(p){for(e=0;e<d;e++){h.push(p[e]+a);}}}c.addCls(h);k[f]=h;}}}},applyHideMode:function(a){return a||"display";},updateHideMode:function(c){var b=this,a=b.getHidden();
if(!b._hideModes[c]){Ext.raise('Invalid hideMode: "'+c+'" (must be one of: "'+Object.keys(b._hideModes).join('", "')+'")');}if(a){b.setHidden(false);}b.renderElement.setVisibilityMode(Ext.Element[b._hideModes[c]]);if(a){b.setHidden(true);}},updateUserCls:function(b,a){this.element.replaceCls(a,b);}}},function(b){var a=b.prototype;
(a.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(a.$eventOptions=Ext.Object.chain(a.$eventOptions)).delegate=1;});