Ext.define("Ext.drag.Target",{extend:"Ext.drag.Item",requires:["Ext.drag.Manager"],defaultIdPrefix:"target-",config:{invalidCls:"",validCls:""},constructor:function(a){var c=this,b=a&&a.accepts;if(b){c.accepts=b;a=Ext.apply({},a);delete a.accepts;}c.callParent([a]);Ext.drag.Manager.register(c);},accepts:function(a){return true;
},disable:function(){this.callParent();this.setupListeners(null);},enable:function(){this.callParent();this.setupListeners();},beforeDrop:Ext.emptyFn,onDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragLeave:Ext.emptyFn,onDragMove:Ext.emptyFn,updateInvalidCls:function(a,b){var c=this.info;this.doUpdateCls(c&&!c.valid,a,b);
},updateValidCls:function(a,b){var c=this.info;this.doUpdateCls(c&&c.valid,a,b);},destroy:function(){Ext.drag.Manager.unregister(this);this.callParent();},privates:{doUpdateCls:function(d,a,c){var b=this.getElement();if(c){b.removeCls(c);}if(a&&d){b.addCls(a);}},getElListeners:function(){return{dragenter:"handleNativeDragEnter",dragleave:"handleNativeDragLeave",dragover:"handleNativeDragMove",drop:"handleNativeDrop"};
},handleDrop:function(d){var c=this,a=c.hasListeners,b=d.valid;c.getElement().removeCls([c.getInvalidCls(),c.getValidCls()]);if(b&&c.beforeDrop(d)!==false){if(a.beforedrop&&c.fireEvent("beforedrop",c,d)===false){return false;}c.onDrop(d);if(a.drop){c.fireEvent("drop",c,d);}}else{return false;}},handleDragEnter:function(c){var b=this,a=c.valid?b.getValidCls():b.getInvalidCls();
if(a){b.getElement().addCls(a);}b.onDragEnter(c);if(b.hasListeners.dragenter){b.fireEvent("dragenter",b,c);}},handleDragLeave:function(b){var a=this;a.getElement().removeCls([a.getInvalidCls(),a.getValidCls()]);a.onDragLeave(b);if(a.hasListeners.dragleave){a.fireEvent("dragleave",a,b);}},handleDragMove:function(b){var a=this;
a.onDragMove(b);if(a.hasListeners.dragmove){a.fireEvent("dragmove",a,b);}},handleNativeDragEnter:function(c){var a=this,b=Ext.drag.Manager.getNativeDragInfo(c);b.onNativeDragEnter(a,c);if(a.hasListeners.dragenter){a.fireEvent("dragenter",a,b);}},handleNativeDragLeave:function(c){var a=this,b=Ext.drag.Manager.getNativeDragInfo(c);
b.onNativeDragLeave(a,c);if(a.hasListeners.dragleave){a.fireEvent("dragleave",a,b);}},handleNativeDragMove:function(c){var a=this,b=Ext.drag.Manager.getNativeDragInfo(c);b.onNativeDragMove(a,c);if(a.hasListeners.dragmove){a.fireEvent("dragmove",a,b);}},handleNativeDrop:function(f){var c=this,a=c.hasListeners,d=Ext.drag.Manager.getNativeDragInfo(f),b=d.valid;
d.onNativeDrop(c,f);if(b){if(a.beforedrop&&c.fireEvent("beforedrop",c,d)===false){return;}if(a.drop){c.fireEvent("drop",c,d);}}}}});