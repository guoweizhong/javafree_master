Ext.env.OS=function(o,b,l){var k=this,j=Ext.Boot.osNames,d=Ext.Boot.osPrefixes,a,h="",f=k.is,c,g,e,n,m;l=l||Ext.browser;for(c in d){if(d.hasOwnProperty(c)){g=d[c];e=o.match(new RegExp("(?:"+g+")([^\\s;]+)"));if(e){a=j[c];m=e[1];if(m&&m==="HTC_"){h=new Ext.Version("2.3");}else{if(m&&m==="Silk/"){h=new Ext.Version("2.3");
}else{h=new Ext.Version(e[e.length-1]);}}break;}}}if(!a){a=j[(o.toLowerCase().match(/mac|win|linux/)||["other"])[0]];h=new Ext.Version("");}this.name=a;this.version=h;if(o.match(/ipad/i)){b="iPad";}if(b){this.setFlag(b.replace(/ simulator$/i,""));}this.setFlag(a);if(h){this.setFlag(a+(h.getMajor()||""));
this.setFlag(a+h.getShortVersion());}for(c in j){if(j.hasOwnProperty(c)){n=j[c];if(!f.hasOwnProperty(a)){this.setFlag(n,(a===n));}}}if(this.name==="iOS"&&window.screen.height===568){this.setFlag("iPhone5");}if(l.is.Safari||l.is.Silk){if(this.is.Android2||this.is.Android3||l.version.shortVersion===501){l.setFlag("AndroidStock");
}if(this.is.Android4){l.setFlag("AndroidStock");l.setFlag("AndroidStock4");}}};Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(a){return !!this[a];},name:null,version:null,setFlag:function(a,b){if(b===undefined){b=true;}if(this.flags){this.flags[a]=b;}this.is[a]=b;this.is[a.toLowerCase()]=b;
return this;}};(function(){var a=Ext.global.navigator,g=a.userAgent,f=Ext.env.OS,e=(Ext.is||(Ext.is={})),h,d,b;f.prototype.flags=e;Ext.os=h=new f(g,a.platform);d=h.name;Ext["is"+d]=true;Ext.isMac=e.Mac=e.MacOS;Ext.isApple=Ext.isMac||Ext.isiOS;var i=window.location.search.match(/deviceType=(Tablet|Phone)/),c=window.deviceType;
if(i&&i[1]){b=i[1];}else{if(c==="iPhone"){b="Phone";}else{if(c==="iPad"){b="Tablet";}else{if(!h.is.Android&&!h.is.iOS&&!h.is.WindowsPhone&&/Windows|Linux|MacOS|ChromeOS/.test(d)){b="Desktop";Ext.browser.is.WebView=!!Ext.browser.is.Ripple;}else{if(h.is.iPad||h.is.RIMTablet||h.is.Android3||Ext.browser.is.Silk||(h.is.Android&&g.search(/mobile/i)===-1)){b="Tablet";
}else{b="Phone";}}}}}h.setFlag(b,true);h.deviceType=b;delete f.prototype.flags;}());