Ext.define("Ext.ux.colorpick.SelectorModel",{extend:"Ext.app.ViewModel",alias:"viewmodel.colorpick-selectormodel",requires:["Ext.ux.colorpick.ColorUtils"],data:{selectedColor:{r:255,g:255,b:255,h:0,s:1,v:1,a:1},previousColor:{r:0,g:0,b:0,h:0,s:1,v:1,a:1}},formulas:{hex:{get:function(d){var f=d("selectedColor.r").toString(16),e=d("selectedColor.g").toString(16),c=d("selectedColor.b").toString(16),a;
a=Ext.ux.colorpick.ColorUtils.rgb2hex(f,e,c);return"#"+a;},set:function(b){var a=Ext.ux.colorpick.ColorUtils.hex2rgb(b);this.changeRGB(a);}},red:{get:function(a){return a("selectedColor.r");},set:function(a){this.changeRGB({r:a});}},green:{get:function(a){return a("selectedColor.g");},set:function(a){this.changeRGB({g:a});
}},blue:{get:function(a){return a("selectedColor.b");},set:function(a){this.changeRGB({b:a});}},hue:{get:function(a){return a("selectedColor.h")*360;},set:function(a){this.changeHSV({h:a/360});}},saturation:{get:function(a){return a("selectedColor.s")*100;},set:function(a){this.changeHSV({s:a/100});}},value:{get:function(b){var a=b("selectedColor.v");
return a*100;},set:function(a){this.changeHSV({v:a/100});}},alpha:{get:function(c){var b=c("selectedColor.a");return b*100;},set:function(a){this.set("selectedColor",Ext.applyIf({a:a/100},this.data.selectedColor));}}},changeHSV:function(b){Ext.applyIf(b,this.data.selectedColor);var a=Ext.ux.colorpick.ColorUtils.hsv2rgb(b.h,b.s,b.v);
b.r=a.r;b.g=a.g;b.b=a.b;this.set("selectedColor",b);},changeRGB:function(b){Ext.applyIf(b,this.data.selectedColor);var a=Ext.ux.colorpick.ColorUtils.rgb2hsv(b.r,b.g,b.b);b.h=a.h;b.s=a.s;b.v=a.v;this.set("selectedColor",b);}});