Ext.define("Ext.util.Sortable",{isSortable:true,$configPrefixed:false,$configStrict:false,config:{sorters:null},defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],multiSortLimit:3,statics:{createComparator:function(a){return a&&a.length?function(d,c){var b=a[0].sort(d,c),f=a.length,e=1;for(;!b&&e<f;
e++){b=a[e].sort.call(a[e],d,c);}return b;}:function(){return 0;};}},applySorters:function(c){var b=this,a=b.getSorters()||new Ext.util.MixedCollection(false,Ext.returnId);if(c){a.addAll(b.decodeSorters(c));}return a;},sort:function(g,f,a,e){var b=this,h,d,c=b.getSorters();if(!c){b.setSorters(null);c=b.getSorters();
}if(Ext.isArray(g)){e=a;a=f;}else{if(Ext.isObject(g)){g=[g];e=a;a=f;}else{if(Ext.isString(g)){h=c.get(g);if(!h){h={property:g,direction:f};}else{if(f==null){h.toggle();}else{h.setDirection(f);}}g=[h];}}}if(g&&g.length){g=b.decodeSorters(g);switch(a){case"multi":c.insert(0,g[0]);d=c.getCount()-b.multiSortLimit;
if(d>0){c.removeRange(b.multiSortLimit,d);}break;case"prepend":c.insert(0,g);break;case"append":c.addAll(g);break;case undefined:case null:case"replace":c.clear();c.addAll(g);break;default:Ext.raise('Sorter insertion point must be "multi", "prepend", "append" or "replace"');}}if(e!==false){b.fireEvent("beforesort",b,g);
b.onBeforeSort(g);if(b.getSorterCount()){b.doSort(b.generateComparator());}}return g;},getSorterCount:function(){return this.getSorters().items.length;},generateComparator:function(){var a=this.getSorters().getRange();return a.length?this.createComparator(a):this.emptyComparator;},emptyComparator:function(){return 0;
},onBeforeSort:Ext.emptyFn,decodeSorters:function(f){if(!Ext.isArray(f)){if(f===undefined){f=[];}else{f=[f];}}var d=f.length,g=Ext.util.Sorter,b=this.getModel?this.getModel():this.model,e,a,c;for(c=0;c<d;c++){a=f[c];if(!(a instanceof g)){if(Ext.isString(a)){a={property:a};}Ext.applyIf(a,{root:this.sortRoot,direction:"ASC"});
if(a.fn){a.sorterFn=a.fn;}if(typeof a=="function"){a={sorterFn:a};}if(b&&!a.transform){e=b.getField(a.property);a.transform=e&&e.sortType!==Ext.identityFn?e.sortType:undefined;}f[c]=new Ext.util.Sorter(a);}}return f;},getFirstSorter:function(){var c=this.getSorters().items,a=c.length,b=0,d;for(;b<a;++b){d=c[b];
if(!d.isGrouper){return d;}}return null;}},function(){this.prototype.createComparator=this.createComparator;});