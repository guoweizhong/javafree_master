(function(b,a){(Ext.util||(Ext.util={})).LRU=b=function(c){var e=this,d;if(c){Ext.apply(e,c);}e.head=d={id:(e.seed=0),key:null,value:null};e.map={};d.next=d.prev=d;};b.prototype=a={count:0,add:function(c,f){var e=this,g=e.map,d=g[c];if(d){e.unlink(d);--e.count;}g[c]=d={id:++e.seed,key:c,value:f};e.link(d);
++e.count;return d;},clear:function(e,d){var g=this,c=g.head,f=c.next;c.next=c.prev=c;g.count=0;if(e&&!e.$nullFn){for(;f!==c;f=f.next){e.call(d||g,f.key,f.value);}}},each:function(e,d){d=d||this;for(var c=this.head,f=c.next;f!==c;f=f.next){if(e.call(d,f.key,f.value)){break;}}},prune:function(e,d){var g=this,f=g.head.prev,c;
if(g.count){c=f.value;g.unlink(f);--g.count;if(e){e.call(d||g,f.key,c);}}return c;},remove:function(c){var e=this,g=e.map,d=g[c],f;if(d){e.unlink(d);f=d.value;delete g[c];--e.count;}return f;},touch:function(d){var f=this,c=f.head,e=f.map[d];if(e&&e.prev!==c){f.unlink(e);f.link(e);}},trim:function(c,e,d){while(this.count>c){this.prune(e,d);
}},link:function(d){var c=this.head,e=c.next;d.next=e;d.prev=c;c.next=d;e.prev=d;},unlink:function(e){var c=e.next,d=e.prev;d.next=c;c.prev=d;}};a.destroy=function(){this.clear.apply(this,arguments);};}());