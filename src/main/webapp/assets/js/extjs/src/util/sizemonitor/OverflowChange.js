Ext.define("Ext.util.sizemonitor.OverflowChange",{extend:"Ext.util.sizemonitor.Abstract",constructor:function(a){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);this.callParent(arguments);},getElementConfig:function(){return{reference:"detectorsContainer",classList:[Ext.baseCSSPrefix+"size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]};
},bindListeners:function(b){var a=b?"addEventListener":"removeEventListener";this.expandMonitor[a](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,true);this.shrinkMonitor[a](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,true);},onExpand:function(a){if(!(this.destroyed||(Ext.browser.is.Webkit&&a.horizontalOverflow&&a.verticalOverflow))){Ext.TaskQueue.requestRead("refresh",this);
}},onShrink:function(a){if(!(this.destroyed||(Ext.browser.is.Webkit&&!a.horizontalOverflow&&!a.verticalOverflow))){Ext.TaskQueue.requestRead("refresh",this);}},refreshMonitors:function(){if(this.destroying||this.destroyed){return;}var f=this.expandHelper,e=this.shrinkHelper,b=this.getContentBounds(),d=b.width,a=b.height,c;
if(f&&!f.destroyed){c=f.style;c.width=(d+1)+"px";c.height=(a+1)+"px";}if(e&&!e.destroyed){c=e.style;c.width=d+"px";c.height=a+"px";}Ext.TaskQueue.requestRead("refresh",this);},destroy:function(){this.onExpand=this.onShrink=null;this.callParent();}});