Ext.define("Ext.util.Format",function(){var a;return{requires:["Ext.Error","Ext.Number","Ext.String","Ext.Date"],singleton:true,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencySpacer:"",percentSign:"%",currencyAtEnd:false,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){a=this;
},nbsp:function(c,b){b=b!==false;if(b?c===""||c==null:!c){c="\xA0";}return c;},undef:function(b){return b!==undefined?b:"";},defaultValue:function(c,b){return c!==undefined&&c!==""?c:b;},substr:"ab".substr(-1)!="b"?function(c,e,b){var d=String(c);return(e<0)?d.substr(Math.max(d.length+e,0),b):d.substr(e,b);
}:function(c,d,b){return String(c).substr(d,b);},lowercase:function(b){return String(b).toLowerCase();},uppercase:function(b){return String(b).toUpperCase();},usMoney:function(b){return a.currency(b,"$",2);},currency:function(f,e,c,b,j){var h="",g=",0",d=0;f=f-0;if(f<0){f=-f;h="-";}c=Ext.isDefined(c)?c:a.currencyPrecision;
g+=(c>0?".":"");for(;d<c;d++){g+="0";}f=a.number(f,g);if(j==null){j=a.currencySpacer;}if((b||a.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}{3}",h,f,j,e||a.currencySign);}else{return Ext.String.format("{0}{1}{2}{3}",h,e||a.currencySign,j,f);}},date:function(b,c){if(!b){return"";}if(!Ext.isDate(b)){b=new Date(Date.parse(b));
}return Ext.Date.dateFormat(b,c||Ext.Date.defaultFormat);},dateRenderer:function(b){return function(c){return a.date(c,b);};},hex:function(d,c){var b=parseInt(d||0,10).toString(16);if(c){if(c<0){c=-c;if(b.length>c){b=b.substring(b.length-c);}}while(b.length<c){b="0"+b;}}return b;},or:function(c,b){return c||b;
},pick:function(d,c,e){if(Ext.isNumber(d)){var b=arguments[d+1];if(b){return b;}}return d?e:c;},lessThanElse:function(h,c,i,b,g){var d=Ext.Number.from(h,0),f=Ext.Number.from(c,0),e=!Ext.isDefined(g);return d<f?i:(d>f?b:(e?b:g));},sign:function(e,c,b,d){if(d===undefined){d=b;}return a.lessThanElse(e,0,c,b,d);
},stripTags:function(b){return !b?b:String(b).replace(a.stripTagsRe,"");},stripScripts:function(b){return !b?b:String(b).replace(a.stripScriptsRe,"");},fileSize:(function(){var b=1024,c=1048576,d=1073741824;return function(f){var e;if(f<b){if(f===1){e="1 byte";}else{e=f+" bytes";}}else{if(f<c){e=(Math.round(((f*10)/b))/10)+" KB";
}else{if(f<d){e=(Math.round(((f*10)/c))/10)+" MB";}else{e=(Math.round(((f*10)/d))/10)+" GB";}}}return e;};})(),math:(function(){var b={};return function(d,c){if(!b[c]){b[c]=Ext.functionFactory("v","return v "+c+";");}return b[c](d);};}()),round:function(d,c){var b=Number(d);if(typeof c==="number"){c=Math.pow(10,c);
b=Math.round(d*c)/c;}else{if(c===undefined){b=Math.round(b);}}return b;},number:function(l,f){if(!f){return l;}if(isNaN(l)){return"";}var e=a.formatFns[f];if(!e){var i=f,o=a.thousandSeparator,m=a.decimalSeparator,g=0,d="",c,j,k,n,b,h;if(f.substr(f.length-2)==="/i"){if(!a.I18NFormatCleanRe||a.lastDecimalSeparator!==m){a.I18NFormatCleanRe=new RegExp("[^\\d\\"+m+"#]","g");
a.lastDecimalSeparator=m;}f=f.substr(0,f.length-2);c=f.indexOf(o)!==-1;j=f.replace(a.I18NFormatCleanRe,"").split(m);}else{c=f.indexOf(",")!==-1;j=f.replace(a.formatCleanRe,"").split(".");}k=f.replace(a.formatPattern,"");if(j.length>2){Ext.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:l,formatString:f,msg:"Invalid number format, should have no more than 1 decimal"});
}else{if(j.length===2){g=j[1].length;n=j[1].match(a.hashRe);if(n){h=n[0].length;d='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+h+'}$")';}}}b=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(c?",thousandSeparator,thousands=[],j,n,i":"")+(k?',formatString="'+f+'",formatPattern=/[\\d,\\.#]+/':"")+",trailingZeroes;"+"return function(v){"+'if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";'+"neg=v<0;","absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+g+");",d,";"];
if(c){if(g){b[b.length]='parts=fnum.split(".");';b[b.length]="fnum=parts[0];";}b[b.length]="if(absVal>=1000) {";b[b.length]="thousandSeparator=utilFormat.thousandSeparator;"+"thousands.length=0;"+"j=fnum.length;"+"n=fnum.length%3||3;"+"for(i=0;i<j;i+=n){"+"if(i!==0){"+"n=3;"+"}"+"thousands[thousands.length]=fnum.substr(i,n);"+"}"+"fnum=thousands.join(thousandSeparator);"+"}";
if(g){b[b.length]="fnum += utilFormat.decimalSeparator+parts[1];";}}else{if(g){b[b.length]='if(utilFormat.decimalSeparator!=="."){'+'parts=fnum.split(".");'+"fnum=parts[0]+utilFormat.decimalSeparator+parts[1];"+"}";}}b[b.length]='if(neg&&fnum!=="'+(g?"0."+Ext.String.repeat("0",g):"0")+'") { fnum="-"+fnum; }';
if(n){b[b.length]='fnum=fnum.replace(trailingZeroes,"");';}b[b.length]="return ";if(k){b[b.length]="formatString.replace(formatPattern, fnum);";}else{b[b.length]="fnum;";}b[b.length]="};";e=a.formatFns[i]=Ext.functionFactory("Ext",b.join(""))(Ext);}return e(l);},numberRenderer:function(b){return function(c){return a.number(c,b);
};},percent:function(c,b){return a.number(c*100,b||"0")+a.percentSign;},repeat:function(c,d,b){return Ext.String.repeat(d,c,b);},attributes:function(c){if(typeof c==="object"){var b=[],d;for(d in c){if(c.hasOwnProperty(d)){b.push(d,'="',d==="style"?Ext.DomHelper.generateStyles(c[d],null,true):Ext.htmlEncode(c[d]),'" ');
}}c=b.join("");}return c||"";},plural:function(d,c,b){return d+" "+(d===1?c:(b?b:c+"s"));},nl2br:function(b){return Ext.isEmpty(b)?"":b.replace(a.nl2brRe,"<br/>");},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(c){c=c||0;
if(typeof c==="number"){return{top:c,right:c,bottom:c,left:c};}var d=c.split(" "),b=d.length;if(b===1){d[1]=d[2]=d[3]=d[0];}else{if(b===2){d[2]=d[0];d[3]=d[1];}else{if(b===3){d[3]=d[1];}}}return{top:parseInt(d[0],10)||0,right:parseInt(d[1],10)||0,bottom:parseInt(d[2],10)||0,left:parseInt(d[3],10)||0};
},resource:function(b,c){c=c||"";return Ext.resolveResource(c+b);},uri:function(b){return encodeURI(b);},uriCmp:function(b){return encodeURIComponent(b);},wordBreakRe:/[\W\s]+/,word:function(e,c,b){var d=b?(typeof b==="string"?new RegExp(b):b):a.wordBreakRe,f=(e||"").split(d);return f[c||0]||"";}};});
