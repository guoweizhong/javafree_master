Ext.define("Ext.util.sizemonitor.Abstract",{mixins:["Ext.mixin.Templatable"],requires:["Ext.TaskQueue"],config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(a){var b=this;b.refresh=Ext.Function.bind(b.refresh,b);
b.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};b.initElement();b.initConfig(a);b.bindListeners(true);},bindListeners:Ext.emptyFn,applyElement:function(a){if(a){return Ext.get(a);}},updateElement:function(a){a.append(this.detectorsContainer,true);a.addCls(Ext.baseCSSPrefix+"size-monitored");
},applyArgs:function(a){return a.concat([this.info]);},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this);},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect();},getContentWidth:function(){return this.detectorsContainer.clientWidth;
},getContentHeight:function(){return this.detectorsContainer.clientHeight;},refreshSize:function(){var d=this.getElement();if(!d||d.destroyed){return false;}var i=this,b=d.getWidth(),k=d.getHeight(),a=i.getContentWidth(),j=i.getContentHeight(),h=i.contentWidth,f=i.contentHeight,c=i.info,e=false,g;i.width=b;
i.height=k;i.contentWidth=a;i.contentHeight=j;g=((h!==a?1:0)+(f!==j?2:0));if(g>0){c.width=b;c.height=k;c.contentWidth=a;c.contentHeight=j;c.flag=g;e=true;i.getCallback().apply(i.getScope(),i.getArgs());}return e;},refresh:function(a){if(this.destroying||this.destroyed){return;}if(this.refreshSize()||a){Ext.TaskQueue.requestWrite("refreshMonitors",this);
}},destroy:function(){var b=this,a=b.getElement();b.bindListeners(false);if(a&&!a.destroyed){a.removeCls(Ext.baseCSSPrefix+"size-monitored");}delete b._element;b.refresh=null;b.callParent();}});