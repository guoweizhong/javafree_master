Ext.Loader.setConfig({enabled:true});Ext.Loader.setPath("Ext.ux","assets/js/extjs/src");Ext.require(["*"]);Ext.define("JavafreeCenterPanel",{extend:"Ext.panel.Panel",alias:"widget.JavafreeCenterPanel",title:"",width:"100%",autoScroll:false,minHeight:500,autoHeight:true,layout:"fit",loader:{},homeTabId:"__home_tab_id",tabTitle:"页签",tabIconCls:" fa fa-file-text",tabId:this.homeTabId,tabpanel:null,currentTabItem:null,activeTab:null,initComponent:function(){var a=this;
a.callParent(arguments);},doLayoutTab:function(){if(this.activeTab){}},setURL:function(b){var a=Math.round(Math.random()*10000);var b=b+"";if(b.indexOf("http://")==0||b.indexOf("https://")==0){b+=b.indexOf("?")!=-1?"&":"?"+a+"=";return b;}if(javafree.CONTEXTPATH.length<1){b=b.indexOf("/")==0?b:"/"+b;
}else{b=b.indexOf("/")==0?(b.indexOf(""+javafree.CONTEXTPATH)==0?b:""+javafree.CONTEXTPATH+b):b;}b+=b.indexOf("?")!=-1?"&":"?"+a+"=";return b;},addTabCmp:function(a){if(this.activeTab){alert();this.activeTab.removeAll();this.activeTab.setBodyStyle({background:"#fff",margin:"0",padding:"0px 0px 0px 0px"});
this.activeTab.add(a).show();}},removeTabPanel:function(a){this.tabpanel=null;this.activeTab=null;},addCmp:function(a){this.setBodyStyle({background:"#fff",margin:"0",padding:"0px 0px 0px 0px"});if(this.activeTab){this.activeTab.removeAll();this.activeTab.setBodyStyle({background:"#fff",margin:"0",padding:"0px 0px 0px 0px"});
this.activeTab.add(a).show();}else{this.removeAll();this.add(a);}},loadTab:function(b,e,d){this.setHeight($(window).height()-75);var h=b,a=this.tabTitle;h=h.split("?")[0].replace(/\//g,"");if(e){a=e;}var f=this.setURL(b);var g={};if(d){g=d;}if(!this.tabpanel){$("#breadcrumbs").hide();this.setBodyStyle({background:"#fff",margin:"0",padding:"0px 0px 0px 0px"});
this.removeAll();this.update("");this.tabpanel=Ext.widget("tabpanel",{activeTab:0,fullscreen:true,defaults:{styleHtmlContent:true,autoScroll:true},tabBarPosition:"top",resizeTabs:true,enableTabScroll:true,layoutOnTabChange:true,plain:true,items:[{id:h,title:a,style:{borderBottom:"1px solid #cecece",borderTop:"1px solid #cecece"},layout:"fit",loader:{url:f,renderer:function(j,k,l){j.getTarget().update(k.responseText,l.scripts===true);
return true;},params:g,isLoading:true,autoLoad:true,loadMask:"正在打开,请稍候...",scripts:true},closable:false}],plugins:Ext.create("Ext.ux.TabCloseMenu",{closeTabText:"关闭标签页  ",closeOthersTabsText:"关闭其它标签页   ",closeAllTabsText:"关闭所有标签页    ",listeners:{beforemenu:function(k,j){this.currentTabItem=j;}}})});this.activeTab=this.tabpanel.getActiveTab();
this.activeTab.setAutoScroll(true);this.activeTab.setHeight($(window).height()-75);Ext.MessageBox.wait("正在打开,请稍候...");setTimeout(function(){Ext.MessageBox.hide();},600);this.add(this.tabpanel);}else{if(this.tabpanel.getComponent(h)){var c=this.tabpanel.getComponent(h);var i={url:f,renderer:function(j,k,l){j.getTarget().update(k.responseText,l.scripts===true);
return true;},params:g,isLoading:true,autoLoad:true,loadMask:"正在打开,请稍候...",scripts:true};c.removeAll();c.getLoader().load(i);this.tabpanel.setActiveTab(c);this.activeTab=c;}else{this.tabpanel.add({id:h,title:a,layout:"fit",style:{borderBottom:"1px solid #cecece",borderTop:"1px solid #cecece"},loader:{url:f,renderer:function(j,k,l){j.getTarget().update(k.responseText,l.scripts===true);
return true;},params:g,isLoading:true,autoLoad:true,loadMask:"正在打开,请稍候...",scripts:true},closable:true}).show();this.activeTab=this.tabpanel.getActiveTab();this.activeTab.setAutoScroll(true);this.activeTab.setHeight($(window).height()-75);Ext.MessageBox.wait("正在打开,请稍候...");setTimeout(function(){Ext.MessageBox.hide();
},600);}}},iframeTab:function(d,c){this.setHeight($(window).height()-85);var b=d,f=this.tabTitle;b=b.split("?")[0].replace(/\//g,"").replace(/\./g,"").replace(/\:/g,"");if(c){f=c;}var a=this.setURL(d);if(!this.tabpanel){$("#breadcrumbs").hide();this.setBodyStyle({background:"#fff",margin:"0",padding:"0px 0px 0px 0px"});
this.removeAll();this.update("");this.tabpanel=Ext.widget("tabpanel",{activeTab:0,tabPosition:"top",resizeTabs:true,enableTabScroll:true,layoutOnTabChange:true,defaults:{autoScroll:true},items:[{id:b,title:f,style:{borderBottom:"1px solid #cecece",borderTop:"1px solid #cecece"},layout:"fit",closable:false}],plugins:Ext.create("Ext.ux.TabCloseMenu",{closeTabText:"关闭标签页  ",closeOthersTabsText:"关闭其它标签页   ",closeAllTabsText:"关闭所有标签页    ",listeners:{beforemenu:function(h,g){this.currentTabItem=g;
}}})});this.activeTab=this.tabpanel.getActiveTab();this.activeTab.insert(0,Ext.create("Ext.ux.IFrame",{id:b+"javafreeIfame",src:a,loadMask:"正在打开,请稍候..."}));this.activeTab.bodyBorder=false;this.activeTab.setAutoScroll(false);this.activeTab.hasIframe=true;this.add(this.tabpanel);Ext.MessageBox.wait("正在打开,请稍候...");
setTimeout(function(){Ext.MessageBox.hide();},600);}else{if(this.tabpanel.getComponent(b)){var e=this.tabpanel.getComponent(b);this.tabpanel.setActiveTab(e);this.activeTab=e;}else{this.tabpanel.add({id:b,title:f,layout:"fit",style:{borderBottom:"1px solid #cecece",borderTop:"1px solid #cecece"},closable:true}).show();
this.activeTab=this.tabpanel.getActiveTab();this.activeTab.insert(0,Ext.create("Ext.ux.IFrame",{id:b+"javafreeIfame",src:a,loadMask:"正在打开,请稍候..."}));this.activeTab.bodyBorder=false;this.activeTab.setAutoScroll(false);this.activeTab.hasIframe=true;Ext.MessageBox.wait("正在打开,请稍候...");setTimeout(function(){Ext.MessageBox.hide();
},600);}}if($("#javafree-panel-content >div").find("div[id^=JavafreeCenterPanel]").length<1){this.render("javafree-panel-content");}},load:function(d,e){$("#breadcrumbs").show();this.removeTabPanel();this.removeAll();this.update("");var c=this.setURL(d);var b={};if(e){b=e;}this.setAutoScroll(true);var a={url:c,renderer:function(f,g,h){f.getTarget().update(g.responseText,h.scripts===true);
return true;},params:b,isLoading:true,autoLoad:true,loadMask:"正在打开,请稍候...",scripts:true};this.bodyBorder=true;this.hasIframe=true;this.setBodyStyle({background:"#fff",margin:"0",padding:"8px 20px 24px"});if($("#javafree-panel-content >div").find("div[id^=JavafreeCenterPanel]").length<1){this.render("javafree-panel-content");
}this.setHeight($(window).height()-105);this.getLoader().load(a);Ext.MessageBox.wait("正在打开,请稍候...");setTimeout(function(){Ext.MessageBox.hide();},600);},iframe:function(b){$("#breadcrumbs").show();this.removeTabPanel();this.removeAll();this.update("");this.bodyBorder=false;this.setAutoScroll(false);this.hasIframe=true;
this.setBodyStyle({background:"#fff",margin:"0",padding:"0px 0px 0px 0px"});var a=this.setURL(b);this.insert(0,Ext.create("Ext.ux.IFrame",{id:"javafreeIfame",src:a,loadMask:"正在打开,请稍候..."}));if($("#javafree-panel-content >div").find("div[id^=JavafreeCenterPanel]").length<1){this.render("javafree-panel-content");
}this.setHeight($(window).height()-105);Ext.MessageBox.wait("正在打开,请稍候...");setTimeout(function(){Ext.MessageBox.hide();},600);},submitUrl:function(a){var b=this.setURL(a);if(b.indexOf("http://")==0||b.indexOf("https://")==0){}else{b=b.indexOf("/")==0?(b.indexOf(""+javafree.CONTEXTPATH)==0?b:""+javafree.CONTEXTPATH+b):javafree.CONTEXTPATH+"/"+b;
}Ext.MessageBox.wait("正在打开,请稍候...");window.location.href=b;},popupWindow:function(g,i,e,a,h){var d=Ext.id();var b=850,k=550;if(e){b=e;}if(a){k=a;}var j=this.setURL(g);var c=new Ext.ZIndexManager();var f=Ext.create("Ext.window.Window",{id:d,title:i,width:b,height:k,border:5,style:{borderColor:"#cecece",borderStyle:"solid"},resizable:true,modal:true,autoScroll:true,maximizable:true,constrain:true,closeAction:"destroy",layout:"fit",loader:{url:j+"&popupwinid="+d,renderer:function(l,m,n){l.getTarget().update(m.responseText,n.scripts===true);
return true;},nocache:true,scripts:true,loadMask:"正在打开,请稍候...",autoLoad:true}});f.show();if(h){f.maximize();}c.zseed=1000;c.setBase(1000);c.register(f);c.bringToFront(f);},popupWindowIFrame:function(f,h,d,a,g){var j=this.setURL(f);var c=Ext.id();var b=850,i=550;if(d){b=d;}if(a){i=a;}var e=Ext.create("Ext.window.Window",{id:c,title:h,width:b,height:i,resizable:true,border:5,style:{borderColor:"#cecece",borderStyle:"solid"},modal:true,autoScroll:false,maximizable:true,closeAction:"destroy",constrain:true,layout:"fit",items:[Ext.create("Ext.ux.IFrame",{id:"iframe-"+c,src:j+"&popupwinid="+c,loadMask:"正在打开,请稍候..."})]});
e.show();if(g){e.maximize();}}});if(!("javafree" in window)){window.javafree={};}javafree.CenterPanel={};Ext.onReady(function(){javafree.CenterPanel=Ext.createWidget("JavafreeCenterPanel",{});if($("#javafree-panel-content >div").find("div[id^=JavafreeCenterPanel]").length<1){javafree.CenterPanel.render("javafree-panel-content");
}Ext.EventManager.onWindowResize(function(){Ext.ComponentManager.each(function(c,b,a){if(b&&"JavafreeCenterPanel"==Ext.getClassName(b)){}});});});javafree.cleanNavActiveOpen=function(){var e=jQuery("#sidebar li[class='active open']");e.each(function(){jQuery(this).removeClass("active open");});var f=jQuery("#sidebar li[class='open active']");
f.each(function(){jQuery(this).removeClass("open active");});var i=jQuery("#sidebar li[class='active']");i.each(function(){jQuery(this).removeClass("active");});var b=jQuery("#sidebar li[class='active hover']");b.each(function(){jQuery(this).removeClass("active hover");});var a=jQuery("#sidebar li[class='active open highlight']");
a.each(function(){jQuery(this).removeClass("active open highlight");});var c=jQuery("#sidebar li[class='highlight open active']");c.each(function(){jQuery(this).removeClass("highlight open active");});var d=jQuery("#sidebar li[class='hover active open']");d.each(function(){jQuery(this).removeClass("hover active open");
});var g=jQuery("#sidebar li[class='hover active open highlight']");g.each(function(){jQuery(this).removeClass("hover active open highlight");});g=jQuery("#sidebar li[class='highlight hover active open']");g.each(function(){jQuery(this).removeClass("highlight hover active open");});var h=jQuery("#sidebar li[class='open']");
h.each(function(){jQuery(this).removeClass("open");});};javafree.setCurrentNavActiveOpenByUrl=function(a){jQuery("#sidebar").find("a").each(function(){var b=jQuery(this).attr("href");if(a.indexOf(b)>0){javafree.setCurrentNavActiveOpen(this);return false;}});};javafree.setCurrentNavActiveOpen=function(a){javafree.cleanNavActiveOpen();
jQuery("#sidebar").find("a").filter(".onThisTaget").removeClass("onThisTaget");jQuery(a).addClass("onThisTaget");jQuery(a).closest("li").addClass("active");var c=jQuery(a).closest("li").closest("ul");if(c.hasClass("submenu")){javafree.setOpenClass(jQuery(c).closest("li"));}var b=jQuery("#sidebar ul[class='submenu nav-show']");
b.each(function(){if(jQuery(this).find("a").filter(".onThisTaget").length<1){jQuery(this).removeClass("nav-show").addClass("nav-hide").hide();}});javafree.setBreadCrumbs(a);};javafree.setOpenClass=function(b){if($(b).addClass("active open"),ulElem=$(b).closest("ul"),ulElem.hasClass("submenu")){var a=$(ulElem).closest("li");
javafree.setOpenClass(a);}};javafree.setBreadCrumbs=function(c){var e=jQuery("#navbar_breadcrumb"),b=jQuery("#sidebar a.onThisTaget"),d='<i class="fa fa-home home-icon"></i>',a=jQuery("#sidebar li[class='active open']");e.empty(),e.append("<li>"+d+'<a target="_submit" href="home">首页</a></li>');a.each(function(){thisa=jQuery(this).children("a");
text=thisa.children("span").end().text().trim();e.append('<li class="active"> <a style="text-decoration:none;">'+text+"</a></li>");});d="";if(d==undefined){d=b.children("i:last").prop("outerHTML");}text=b.children("span").end().text().trim();current_href=b.attr("href");target=b.attr("target");if(d==undefined||current_href==undefined||text==undefined){e.append("");
}else{e.append('<li class="active">'+d+'<a target="'+target+'" href="'+current_href+'">'+text+"</a></li>");}};javafree.bindMenuEvent=function(){var b=jQuery("#sidebar");b.delegate("a","click",function(j){var c=jQuery(this).attr("href");if(c&&"#"!=c){javafree.setCurrentNavActiveOpen(this);}if(c&&"#"!=c&&c.toLowerCase().indexOf("javascript:")<0){var f=(javafree.CONTEXTPATH.length>1?javafree.CONTEXTPATH+"/":javafree.CONTEXTPATH)+c;
var i=jQuery(this).attr("target");if(!i||"_submit"==i){javafree.CenterPanel.submitUrl(c);}else{if("_loadTab"==i){var h=jQuery(this).children("span").end().text().trim();var d=jQuery(this).children("span").children("i").attr("class");javafree.CenterPanel.tabIconCls=d;window.location.href="#"+f;javafree.CenterPanel.loadTab(f,h);
}else{if("_load"==i){window.location.href="#"+f;javafree.CenterPanel.load(f);}else{if("_iframe"==i){javafree.CenterPanel.iframe(c);}else{if("_iframeTab"==i){var h=jQuery(this).children("span").end().text().trim();var d=jQuery(this).children("span").children("i").attr("class");javafree.CenterPanel.tabIconCls=d;
javafree.CenterPanel.iframeTab(c,h);}}}}}if("_blank"!=i){var g=j||window.event;g.preventDefault();g.stopPropagation();}}});var a=jQuery("#breadcrumbs");a.delegate("a","click",function(h){var c=jQuery(this).attr("href");if(c&&"#"!=c){javafree.setCurrentNavActiveOpenByUrl(c);}if(c&&"#"!=c&&c.toLowerCase().indexOf("javascript:")<0){var d=(javafree.CONTEXTPATH.length>1?javafree.CONTEXTPATH+"/":javafree.CONTEXTPATH)+c;
var g=jQuery(this).attr("target");if(!g||"_submit"==g){javafree.CenterPanel.submitUrl(c);}else{if("_loadTab"==g){window.location.href="#"+d;javafree.CenterPanel.load(d);}else{if("_load"==g){window.location.href="#"+d;javafree.CenterPanel.load(d);}else{if("_iframe"==g){javafree.CenterPanel.iframe(c);}}}}if("_blank"!=g){var f=h||window.event;
f.preventDefault();f.stopPropagation();}}});};jQuery(function(b){javafree.bindMenuEvent();javafree.fullscreen();javafree.sidebar();});var localhash=location.hash;Ext.onReady(function(){jQuery("[openIcon]").each(function(){var c=jQuery(this);jQuery.each(jQuery(this).attr("openIcon").split(","),function(d,e){if(e!=null&&"null"!=e){if(javafree.currentsubmenu==e){c.children("a").addClass("on");
c.children("a").children("span").addClass("nav-on");}}});});ace.settings.sidebar_fixed(null,true);if(localhash!=""){var b=localhash.split("#");var a=b[1];jQuery("#sidebar").find("a").each(function(){var c=jQuery(this).attr("href");if(a.indexOf(c)>-1){var d=jQuery(this).attr("target");if("_load"==d){javafree.CenterPanel.load(a);
}else{if("_iframe"==d){javafree.CenterPanel.iframe(a);}}javafree.setCurrentNavActiveOpen(this);return false;}});javafree.CenterPanel.load(a);}else{if("undefined"==typeof initLoadUrl){}else{if(initLoadUrl&&initLoadUrl!=""){if("undefined"==typeof initLoadTarget){}else{if("_loadTab"==initLoadTarget){javafree.CenterPanel.loadTab(initLoadUrl,initTabTitle);
}else{if("_iframe"==initLoadTarget){javafree.CenterPanel.iframe(initLoadUrl);}else{if("_iframeTab"==initLoadTarget){javafree.CenterPanel.iframeTab(initLoadUrl,initTabTitle);}else{javafree.CenterPanel.load(initLoadUrl);}}}}jQuery("#sidebar").find("a").each(function(){var c=jQuery(this).attr("href");if(initLoadUrl.indexOf(c)>-1||window.location.href.indexOf(c)>-1){javafree.setCurrentNavActiveOpen(this);
return false;}});}}}});javafree.fullscreen=function(){$("#fullscreen-toggle").on("click",function(b){var a=document.documentElement;if(!$("body").hasClass("full-screen")){$("body").addClass("full-screen");$("#fullscreen-toggle").addClass("active");if(a.requestFullscreen){a.requestFullscreen();}else{if(a.mozRequestFullScreen){a.mozRequestFullScreen();
}else{if(a.webkitRequestFullscreen){a.webkitRequestFullscreen();}else{if(a.msRequestFullscreen){a.msRequestFullscreen();}else{Ext.MessageBox.show({title:"提示",msg:"请按【F11】键，实现【是/否】全屏切换！",buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.WARNING});}}}}}else{$("body").removeClass("full-screen");$("#fullscreen-toggle").removeClass("active");
if(document.exitFullscreen){document.exitFullscreen();}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else{Ext.MessageBox.show({title:"提示",msg:"请按【F11】键，实现【是/否】全屏切换！",buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.WARNING});
}}}}});};javafree.sidebar=function(){$("#sidebar-toggle").on("click",function(c){var b=jQuery("#sidebar"),a=jQuery("#sidebar-collapse");0!=b.length&&(c.preventDefault(),b.ace_sidebar("toggleMenu",a));if(b.hasClass("menu-min")){}});};function resizeBroadcast(){var b=0;var a=setInterval(function(){b+=1;
if(b===5){clearInterval(a);}window.dispatchEvent(new Event("resize"));},62.5);}